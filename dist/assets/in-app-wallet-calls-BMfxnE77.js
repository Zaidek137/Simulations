import{ac as p,P as h,ad as m,ae as f,af as b,ag as g}from"./index-B5Z1dpp4.js";import{sendBatchTransaction as w}from"./send-batch-transaction-AUYzWLUl.js";import"./framer-motion-BLeoVWJg.js";import"./react-vendor-hc9cV1gX.js";import"./d3-vendor-DXMZTTbz.js";import"./supabase-vendor-CzrfDcjy.js";async function T(n){const t=await p(n);return h(t)}const i=new m(1e3);async function B(n){const{account:t,calls:r}=n,e=r.map(a=>({...a,chain:n.chain})),s=[],o=g(65);if(i.set(o,s),t.sendBatchTransaction){const a=await w({account:t,transactions:e});s.push(a.transactionHash),i.set(o,s)}else for(const a of e){const l=await T({account:t,transaction:a});s.push(l.transactionHash),i.set(o,s)}return o}async function R(n){const{chain:t,client:r,id:e}=n,s=i.get(e);if(!s)throw new Error("Failed to get calls status, unknown bundle id");const o=f({chain:t,client:r});let a="success";const l=await Promise.all(s.map(d=>b(o,{hash:d}).then(c=>({blockHash:c.blockHash,blockNumber:c.blockNumber,gasUsed:c.gasUsed,logs:c.logs.map(u=>({address:u.address,data:u.data,topics:u.topics})),status:c.status,transactionHash:c.transactionHash})).catch(()=>(a="pending",null))));return{atomic:!1,chainId:t.id,id:e,receipts:l.filter(d=>d!==null),status:a,statusCode:200,version:"2.0.0"}}export{R as inAppWalletGetCallsStatus,B as inAppWalletSendCalls};
//# sourceMappingURL=in-app-wallet-calls-BMfxnE77.js.map
