const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bixa-Zqn.js","assets/framer-motion-BLeoVWJg.js","assets/react-vendor-hc9cV1gX.js","assets/d3-vendor-DXMZTTbz.js","assets/supabase-vendor-CzrfDcjy.js","assets/index-CTmHbKkJ.css"])))=>i.map(i=>d[i]);
import{aj as c,_ as s,l as d}from"./index-Bixa-Zqn.js";const u="data:application/json;base64";function f(r){return!!r.toLowerCase().startsWith(u)}function l(r){const n=r.indexOf(","),a=r.slice(n+1);return c(a)}const h="data:application/json;utf-8";function w(r){return!!r.toLowerCase().startsWith(h)}function p(r){const n=r.indexOf(","),a=r.slice(n+1);try{return decodeURIComponent(a)}catch{return a}}async function F(r){const{client:n,tokenId:a,tokenUri:e}=r;if(f(e))try{return JSON.parse(l(e))}catch(t){throw console.error("Failed to fetch base64 encoded NFT",{tokenId:a,tokenUri:e},t),t}if(w(e))try{return JSON.parse(p(e))}catch(t){throw console.error("Failed to fetch utf8 encoded NFT",{tokenId:a,tokenUri:e},t),t}const{download:o}=await s(async()=>{const{download:t}=await import("./index-Bixa-Zqn.js").then(i=>i.ea);return{download:t}},__vite__mapDeps([0,1,2,3,4,5]));try{if(!e.includes("{id}"))return await(await o({client:n,uri:e})).json()}catch(t){throw console.error("Failed to fetch non-dynamic NFT",{tokenId:a,tokenUri:e},t),t}try{try{return await(await o({client:n,uri:e.replace("{id}",d(a,{size:32}).slice(2))})).json()}catch{return await(await o({client:n,uri:e.replace("{id}",a.toString())})).json()}}catch(t){throw console.error("Failed to fetch dynamic NFT",{tokenId:a,tokenUri:e},t),t}}export{F as f};
//# sourceMappingURL=fetchTokenMetadata-CAOtaw6C.js.map
