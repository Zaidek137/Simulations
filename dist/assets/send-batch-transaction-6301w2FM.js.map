{"version":3,"file":"send-batch-transaction-6301w2FM.js","sources":["../../node_modules/thirdweb/dist/esm/transaction/actions/send-batch-transaction.js"],"sourcesContent":["import { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport { encode } from \"./encode.js\";\n/**\n * Sends a batch transaction using the provided options.\n * @param options - The options for sending the batch transaction.\n * @returns A promise that resolves to the options for waiting for the receipt of the first transaction in the batch.\n * @throws An error if the account is not connected, there are no transactions to send, or the account does not implement sendBatchTransaction.\n * @transaction\n * @example\n * ```ts\n * import { sendBatchTransaction } from \"thirdweb\";\n *\n * const waitForReceiptOptions = await sendBatchTransaction({\n *  account,\n *  transactions\n * });\n * ```\n */\nexport async function sendBatchTransaction(options) {\n    const { account, transactions } = options;\n    if (!account) {\n        throw new Error(\"not connected\");\n    }\n    if (transactions.length === 0) {\n        throw new Error(\"No transactions to send\");\n    }\n    const firstTx = transactions[0];\n    if (!firstTx) {\n        throw new Error(\"No transactions to send\");\n    }\n    if (account.sendBatchTransaction) {\n        const serializedTxs = await Promise.all(transactions.map(async (tx) => {\n            // no need to estimate gas for these, gas will be estimated on the entire batch\n            const [data, to, accessList, value] = await Promise.all([\n                encode(tx),\n                resolvePromisedValue(tx.to),\n                resolvePromisedValue(tx.accessList),\n                resolvePromisedValue(tx.value),\n            ]);\n            const serializedTx = {\n                accessList,\n                chainId: tx.chain.id,\n                data,\n                to,\n                value,\n            };\n            return serializedTx;\n        }));\n        const result = await account.sendBatchTransaction(serializedTxs);\n        return {\n            ...result,\n            chain: firstTx.chain,\n            client: firstTx.client,\n        };\n    }\n    throw new Error(\"Account doesn't implement sendBatchTransaction\");\n}\n//# sourceMappingURL=send-batch-transaction.js.map"],"names":["sendBatchTransaction","options","account","transactions","firstTx","serializedTxs","tx","data","to","accessList","value","encode","resolvePromisedValue"],"mappings":"4LAkBO,eAAeA,EAAqBC,EAAS,CAChD,KAAM,CAAE,QAAAC,EAAS,aAAAC,CAAY,EAAKF,EAClC,GAAI,CAACC,EACD,MAAM,IAAI,MAAM,eAAe,EAEnC,GAAIC,EAAa,SAAW,EACxB,MAAM,IAAI,MAAM,yBAAyB,EAE7C,MAAMC,EAAUD,EAAa,CAAC,EAC9B,GAAI,CAACC,EACD,MAAM,IAAI,MAAM,yBAAyB,EAE7C,GAAIF,EAAQ,qBAAsB,CAC9B,MAAMG,EAAgB,MAAM,QAAQ,IAAIF,EAAa,IAAI,MAAOG,GAAO,CAEnE,KAAM,CAACC,EAAMC,EAAIC,EAAYC,CAAK,EAAI,MAAM,QAAQ,IAAI,CACpDC,EAAOL,CAAE,EACTM,EAAqBN,EAAG,EAAE,EAC1BM,EAAqBN,EAAG,UAAU,EAClCM,EAAqBN,EAAG,KAAK,CAC7C,CAAa,EAQD,MAPqB,CACjB,WAAAG,EACA,QAASH,EAAG,MAAM,GAClB,KAAAC,EACA,GAAAC,EACA,MAAAE,CAChB,CAEQ,CAAC,CAAC,EAEF,MAAO,CACH,GAFW,MAAMR,EAAQ,qBAAqBG,CAAa,EAG3D,MAAOD,EAAQ,MACf,OAAQA,EAAQ,MAC5B,CACI,CACA,MAAM,IAAI,MAAM,gDAAgD,CACpE","x_google_ignoreList":[0]}