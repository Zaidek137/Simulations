import{cg as Me,ch as Xa,ci as Qa,cj as eo,ck as St,cl as T,cm as dt,cn as ut,y as Qr,co as Bt,M as lt,cp as me,ai as J,ah as N,cq as to,cr as Bc,cs as $c,ct as es,cu as Se,cv as no,aZ as q,a_ as Be,_ as ts,cw as j,cx as $t,cy as V,aN as le,cz as be,cA as xe,cB as Ws,cC as ro,aP as ae,aO as sn,cD as _e,cE as Re,cF as ns,cG as so,x as wn,cH as ao,cI as an,cJ as oo,cK as io,cL as co,cM as xn,bH as Ve,cN as kc,cO as We,cP as on,cQ as cn,cR as Cc,cS as Zs,cT as Rc,cU as Nc,cV as Mc,cW as _c,aJ as Ce,cX as Qt,cY as zc,cZ as Fc,aK as en,c_ as Et,c$ as Oc,d0 as Lc,d1 as qc,d2 as Uc,d3 as jc,d4 as Dc,d5 as ve,d6 as ze,d7 as Gc,aX as Hc,d8 as Gt,aW as br,d9 as uo,da as Vc,db as Wc,aQ as Zc,dc as Kc,aT as Yc,aS as Ks,aU as Jc,dd as Xc,de as Qc,df as eu,dg as fo,dh as Ys,di as tu,dj as lo,dk as yr,dl as nu,i as ru,v as su,j as au}from"./index-BQlDc_X7.js";import{dm as uh,dn as fh,dp as dh,dq as lh,dr as ph,ds as mh,dt as hh,dE as bh,dA as yh,du as gh,dv as wh,dB as xh,dw as vh,dF as Eh,dC as Ph,dG as Ih,dH as Th,dy as Ah,dD as Sh,dz as Bh,dT as $h,dM as kh,dN as Ch,dO as Rh,dP as Nh,dJ as Mh,dV as _h,dI as zh,dW as Fh,dY as Oh,dZ as Lh,e4 as qh,dQ as Uh,dR as jh,e0 as Dh,e1 as Gh,e1 as Hh,e2 as Vh,e3 as Wh,dS as Zh,dU as Kh,dK as Yh,d_ as Jh,dx as Xh,dL as Qh,d$ as eb,e0 as tb,e1 as nb,d$ as rb,e1 as sb,dX as ab}from"./index-BQlDc_X7.js";import{g as ou,I as un,R as rs,a as fn,b as gr,A as wr,M as Ht,H as De,c as iu,U as tn,d as Js,B as Xs,e as Qs,D as ea,f as ta,S as na,C as ra,P as sa,h as aa,i as oa,J as ia,L as xr,T as vr,j as ca,k as ua,l as fa,m as da,n as la,o as pa,p as po,q as Er,r as dn,W as ma}from"./rpc-2aTLlUJJ.js";import{s as ib,t as cb}from"./rpc-2aTLlUJJ.js";import{t as Ne,a as vn,s as cu,H as uu,b as fu}from"./sha256-CWpujDzl.js";import{aK as fb,aL as db,p as lb,q as pb,r as mb,u as hb,v as bb,w as yb,x as gb,d as wb,y as xb,z as vb,A as Eb,B as Pb,C as Ib,D as Tb,E as Ab,F as Sb,G as Bb,I as $b,e as kb,J as Cb,K as Rb,L as Nb,f as Mb,g as _b,h as zb,i as Fb,j as Ob,k as Lb,c as qb,l as Ub,n as jb,o as Db,X as Gb,Y as Hb,Z as Vb,_ as Wb,$ as Zb,a0 as Kb,a1 as Yb,m as Jb,a2 as Xb,a3 as Qb,a4 as ey,a5 as ty,a6 as ny,a7 as ry,a8 as sy,a9 as ay,aa as oy,ab as iy,N as cy,ac as uy,ad as fy,O as dy,P as ly,Q as py,R as my,S as hy,T as by,M as yy,U as gy,V as wy,W as xy,aq as vy,ar as Ey,as as Py,at as Iy,au as Ty,av as Ay,aw as Sy,af as By,ax as $y,ay as ky,az as Cy,aA as Ry,aB as Ny,aC as My,aD as _y,aE as zy,aF as Fy,aG as Oy,ag as Ly,aH as qy,aI as Uy,aJ as jy,ah as Dy,ai as Gy,aj as Hy,ak as Vy,al as Wy,am as Zy,ae as Ky,an as Yy,ao as Jy,ap as Xy}from"./sha256-CWpujDzl.js";import"./framer-motion-BLeoVWJg.js";import"./react-vendor-hc9cV1gX.js";import"./d3-vendor-DXMZTTbz.js";import"./supabase-vendor-CzrfDcjy.js";const du="1.1.0";let ee=class Pr extends Error{constructor(t,n={}){const r=n.cause instanceof Pr?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Pr&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${du}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const mo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function lu(e){return mo.test(e)}function pu(e){return Me(mo,e)}const ho=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function mu(e){return ho.test(e)}function hu(e){return Me(ho,e)}const bo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function bu(e){return bo.test(e)}function yu(e){return Me(bo,e)}const yo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function kt(e){return yo.test(e)}function gu(e){return Me(yo,e)}const go=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function wu(e){return go.test(e)}function xu(e){return Me(go,e)}const wo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function vu(e){return wo.test(e)}function Eu(e){return Me(wo,e)}const Pu=/^receive\(\) external payable$/;function Iu(e){return Pu.test(e)}const ln=new Set(["memory","indexed","storage","calldata"]),Tu=new Set(["indexed"]),Ir=new Set(["calldata","memory","storage"]);class Au extends ee{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Su extends ee{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Bu extends ee{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class $u extends ee{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class ku extends ee{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Cu extends ee{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ru extends ee{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Nu extends ee{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Mu extends ee{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class _u extends ee{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pt extends ee{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class zu extends ee{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Fu extends ee{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ou extends ee{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Lu extends ee{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function qu(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const o of s[1])a+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:e}const Zn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Tr(e,t={}){if(bu(e))return Uu(e,t);if(mu(e))return ju(e,t);if(lu(e))return Du(e,t);if(wu(e))return Gu(e,t);if(vu(e))return Hu(e);if(Iu(e))return{type:"receive",stateMutability:"payable"};throw new zu({signature:e})}function Uu(e,t={}){const n=yu(e);if(!n)throw new pt({signature:e,type:"function"});const r=ie(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(ye(r[c],{modifiers:Ir,structs:t,type:"function"}));const o=[];if(n.returns){const c=ie(n.returns),i=c.length;for(let u=0;u<i;u++)o.push(ye(c[u],{modifiers:Ir,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function ju(e,t={}){const n=hu(e);if(!n)throw new pt({signature:e,type:"event"});const r=ie(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ye(r[o],{modifiers:Tu,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Du(e,t={}){const n=pu(e);if(!n)throw new pt({signature:e,type:"error"});const r=ie(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ye(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Gu(e,t={}){const n=xu(e);if(!n)throw new pt({signature:e,type:"constructor"});const r=ie(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ye(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Hu(e){const t=Eu(e);if(!t)throw new pt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Vu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Wu=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Zu=/^u?int$/;function ye(e,t){const n=qu(e,t?.type,t?.structs);if(Zn.has(n))return Zn.get(n);const r=Xa.test(e),s=Me(r?Wu:Vu,e);if(!s)throw new Cu({param:e});if(s.name&&Yu(s.name))throw new Ru({param:e,name:s.name});const a=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},c=t?.structs??{};let i,u={};if(r){i="tuple";const l=ie(s.type),d=[],p=l.length;for(let h=0;h<p;h++)d.push(ye(l[h],{structs:c}));u={components:d}}else if(s.type in c)i="tuple",u={components:c[s.type]};else if(Zu.test(s.type))i=`${s.type}256`;else if(s.type==="address payable")i="address";else if(i=s.type,t?.type!=="struct"&&!xo(i))throw new Bu({type:i});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Nu({param:e,type:t?.type,modifier:s.modifier});if(Ir.has(s.modifier)&&!Ju(i,!!s.array))throw new Mu({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${i}${s.array??""}`,...a,...o,...u};return Zn.set(n,f),f}function ie(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const o=e[a],c=e.slice(a+1);switch(o){case",":return r===0?ie(c,[...t,n.trim()]):ie(c,t,`${n}${o}`,r);case"(":return ie(c,t,`${n}${o}`,r+1);case")":return ie(c,t,`${n}${o}`,r-1);default:return ie(c,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Lu({current:n,depth:r});return t.push(n.trim()),t}function xo(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Qa.test(e)||eo.test(e)}const Ku=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Yu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Qa.test(e)||eo.test(e)||Ku.test(e)}function Ju(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function En(e){const t={},n=e.length;for(let o=0;o<n;o++){const c=e[o];if(!kt(c))continue;const i=gu(c);if(!i)throw new pt({signature:c,type:"struct"});const u=i.properties.split(";"),f=[],l=u.length;for(let d=0;d<l;d++){const h=u[d].trim();if(!h)continue;const m=ye(h,{type:"struct"});f.push(m)}if(!f.length)throw new Fu({signature:c});t[i.name]=f}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[c,i]=s[o];r[c]=vo(i,t)}return r}const Xu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function vo(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const o=e[a];if(Xa.test(o.type))r.push(o);else{const i=Me(Xu,o.type);if(!i?.type)throw new _u({abiParameter:o});const{array:u,type:f}=i;if(f in t){if(n.has(f))throw new Ou({type:f});r.push({...o,type:`tuple${u??""}`,components:vo(t[f]??[],t,new Set([...n,f]))})}else if(xo(f))r.push(o);else throw new Su({type:f})}}return r}function Eo(e){const t=En(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];kt(a)||n.push(Tr(a,t))}return n}function ha(e){let t;if(typeof e=="string")t=Tr(e);else{const n=En(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!kt(a)){t=Tr(a,n);break}}}if(!t)throw new Au({signature:e});return t}function mm(e){let t;if(typeof e=="string")t=ye(e,{modifiers:ln});else{const n=En(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!kt(a)){t=ye(a,{modifiers:ln,structs:n});break}}}if(!t)throw new $u({param:e});return t}function ba(e){const t=[];if(typeof e=="string"){const n=ie(e),r=n.length;for(let s=0;s<r;s++)t.push(ye(n[s],{modifiers:ln}))}else{const n=En(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(kt(a))continue;const o=ie(a),c=o.length;for(let i=0;i<c;i++)t.push(ye(o[i],{modifiers:ln,structs:n}))}}if(t.length===0)throw new ku({params:e});return t}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}function Pn(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:a,transport:o})=>{a==="success"&&t===r&&(n[s]=o.request)}),r=>n[r]||e.request}async function ss(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:c,toBlock:i}=t,u=Pn(e,{method:"eth_newFilter"}),f=a?St({abi:r,args:s,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?T(o):o,toBlock:typeof i=="bigint"?T(i):i,topics:f}]});return{abi:r,args:s,eventName:a,id:l,request:u(l),strict:!!c,type:"event"}}function W(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ya="/docs/contract/encodeFunctionData";function Qu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=dt({abi:t,args:n,name:r});if(!a)throw new ut(r,{docsPath:ya});s=a}if(s.type!=="function")throw new ut(void 0,{docsPath:ya});return{abi:[s],functionName:Qr(Bt(s))}}function ue(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Qu(e),s=n[0],a=r,o="inputs"in s&&s.inputs?lt(s.inputs,t??[]):void 0;return me([a,o??"0x"])}function Po({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?J(t[a]):t[a]}`).join(", ")})`}const Io={gwei:9,wei:18},To={ether:-9,wei:9},hm={ether:-18,gwei:-9};function Ao(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function as(e,t="wei"){return Ao(e,Io[t])}function se(e,t="wei"){return Ao(e,To[t])}class e0 extends N{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class t0 extends N{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ga(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function n0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ga(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ga(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Ct(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class r0 extends N{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class So extends N{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class s0 extends N{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ct(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class a0 extends N{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class Rt extends N{constructor({attributes:t,serializedTransaction:n,type:r}){const s=Object.entries(t).map(([a,o])=>typeof o>"u"?a:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class o0 extends N{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class i0 extends N{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){const p=Ct({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:l,value:typeof d<"u"&&`${as(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${se(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${se(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${se(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Bo extends N{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class $o extends N{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class ko extends N{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class c0 extends N{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class Co extends N{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:d,stateOverride:p}){const h=n?W(n):void 0;let m=Ct({from:h?.address,to:l,value:typeof d<"u"&&`${as(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${se(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${se(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${se(u)} gwei`,nonce:f});p&&(m+=`
${n0(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ro extends N{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:c}){const i=dt({abi:n,args:r,name:o}),u=i?Po({abiItem:i,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=i?Bt(i,{includeName:!0}):void 0,l=Ct({address:s&&ou(s),function:f,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=c}}class Ar extends N{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,c,i;if(n&&n!=="0x")try{o=to({abi:t,data:n});const{abiItem:f,errorName:l,args:d}=o;if(l==="Error")i=d[0];else if(l==="Panic"){const[p]=d;i=Bc[p]}else{const p=f?Bt(f,{includeName:!0}):void 0,h=f&&d?Po({abiItem:f,args:d,includeFunctionName:!1,includeName:!1}):void 0;c=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(f){a=f}else s&&(i=s);let u;a instanceof $c&&(u=a.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(i&&i!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,i||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=i,this.signature=u}}class u0 extends N{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class f0 extends N{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class In extends N{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const d0=3;function Ze(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const c=e instanceof In?e:e instanceof N?e.walk(h=>"data"in h)||e.walk():{},{code:i,data:u,details:f,message:l,shortMessage:d}=c,p=e instanceof es?new u0({functionName:a}):[d0,un.code].includes(i)&&(u||f||l||d)?new Ar({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:c instanceof rs?f:d??l}):e;return new Ro(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}function l0(e){const t=Se(`0x${e.substring(4)}`).substring(26);return no(`0x${t}`)}async function p0({hash:e,signature:t}){const n=q(e)?e:Be(e),{secp256k1:r}=await ts(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Xl);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:d}=t,p=Number(d??l),h=wa(p);return new r.Signature(j(u),j(f)).addRecoveryBit(h)}const o=q(t)?t:Be(t);if($t(o)!==65)throw new Error("invalid signature length");const c=V(`0x${o.slice(130)}`),i=wa(c);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function wa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function mt({hash:e,signature:t}){return l0(await p0({hash:e,signature:t}))}function m0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=Se(me(["0x05",Ne([t?T(t):"0x",s,n?T(n):"0x"])]));return r==="bytes"?le(a):a}async function Tn(e){const{authorization:t,signature:n}=e;return mt({hash:m0(t),signature:n??t})}class h0 extends N{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){const p=Ct({from:n?.address,to:l,value:typeof d<"u"&&`${as(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${se(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${se(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${se(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ue extends N{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Ue,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ue,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ke extends N{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${se(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Ke,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Sr extends N{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${se(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Sr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Br extends N{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $r extends N{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty($r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class kr extends N{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(kr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Cr extends N{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Cr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Rr extends N{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Rr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Nr extends N{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Mr extends N{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Pt extends N{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${se(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${se(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Nt extends N{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function An(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof N?e.walk(s=>s?.code===Ue.code):e;return r instanceof N?new Ue({cause:e,message:r.details}):Ue.nodeMessage.test(n)?new Ue({cause:e,message:e.details}):Ke.nodeMessage.test(n)?new Ke({cause:e,maxFeePerGas:t?.maxFeePerGas}):Sr.nodeMessage.test(n)?new Sr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Br.nodeMessage.test(n)?new Br({cause:e,nonce:t?.nonce}):$r.nodeMessage.test(n)?new $r({cause:e,nonce:t?.nonce}):kr.nodeMessage.test(n)?new kr({cause:e,nonce:t?.nonce}):Cr.nodeMessage.test(n)?new Cr({cause:e}):Rr.nodeMessage.test(n)?new Rr({cause:e,gas:t?.gas}):Nr.nodeMessage.test(n)?new Nr({cause:e,gas:t?.gas}):Mr.nodeMessage.test(n)?new Mr({cause:e}):Pt.nodeMessage.test(n)?new Pt({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Nt({cause:e})}function b0(e,{docsPath:t,...n}){const r=(()=>{const s=An(e,n);return s instanceof Nt?e:s})();return new h0(r,{docsPath:t,...n})}function ht(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const c of o)c in e&&(n[c]=e[c]),a[c]&&typeof a[c]=="object"&&!Array.isArray(a[c])&&r(a[c])}const s=t(e||{});return r(s),n}function xa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ws({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ws({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function y0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=T(t)),n!==void 0&&(o.nonce=T(n)),r!==void 0&&(o.state=xa(r)),s!==void 0){if(o.state)throw new t0;o.stateDiff=xa(s)}return o}function os(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!be(n,{strict:!1}))throw new xe({address:n});if(t[n])throw new e0({address:n});t[n]=y0(r)}return t}function Fe(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?W(t):void 0;if(o&&!be(o.address))throw new xe({address:o.address});if(a&&!be(a))throw new xe({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new r0;if(r&&r>vn)throw new Ke({maxFeePerGas:r});if(s&&r&&s>r)throw new Pt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class g0 extends N{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class is extends N{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class w0 extends N{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${se(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class No extends N{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function we(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,o=n!==void 0?T(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:!!o}),!c)throw new No({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||ro)(c,"getBlock")}async function cs(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function x0(e,t){return Mo(e,t)}async function Mo(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){const c=n||await M(e,we,"getBlock")({}),i=await a({block:c,client:e,request:s});if(i===null)throw new Error;return i}if(typeof a<"u")return a;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return j(o)}catch{const[a,o]=await Promise.all([n?Promise.resolve(n):M(e,we,"getBlock")({}),M(e,cs,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new is;const c=o-a.baseFeePerGas;return c<0n?0n:c}}async function v0(e,t){return _r(e,t)}async function _r(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new g0;const i=10**(o.toString().split(".")[1]?.length??0),u=d=>d*BigInt(Math.ceil(o*i))/BigInt(i),f=n||await M(e,we,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const d=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(d!==null)return d}if(a==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new is;const d=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Mo(e,{block:f,chain:r,request:s}),p=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??p+d,maxPriorityFeePerGas:d}}return{gasPrice:s?.gasPrice??u(await M(e,cs,"getGasPrice")({}))}}async function Sn(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?T(r):n]},{dedupe:!!r});return V(s)}function us(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>le(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>ae(a))}function fs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>le(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>le(o)):e.commitments,a=[];for(let o=0;o<r.length;o++){const c=r[o],i=s[o];a.push(Uint8Array.from(t.computeBlobKzgProof(c,i)))}return n==="bytes"?a:a.map(o=>ae(o))}function _o(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=cu(t,"bytes");return s.set([n],0),r==="bytes"?s:ae(s)}function zo(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const a of t)s.push(_o({commitment:a,to:r,version:n}));return s}const va=6,Fo=32,ds=4096,Oo=Fo*ds,Ea=Oo*va-1-1*ds*va,Lo=1;class E0 extends N{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class qo extends N{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class P0 extends N{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class I0 extends N{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Lo}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function T0(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?le(e.data):e.data,r=$t(n);if(!r)throw new qo;if(r>Ea)throw new E0({maxSize:Ea,size:r});const s=[];let a=!0,o=0;for(;a;){const c=sn(new Uint8Array(Oo));let i=0;for(;i<ds;){const u=n.slice(o,o+(Fo-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),a=!1;break}i++,o+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>ae(c.bytes))}function ls(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??T0({data:t,to:r}),a=e.commitments??us({blobs:s,kzg:n,to:r}),o=e.proofs??fs({blobs:s,commitments:a,kzg:n,to:r}),c=[];for(let i=0;i<s.length;i++)c.push({blob:s[i],commitment:a[i],proof:o[i]});return c}function Uo(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new s0({transaction:e})}async function Qe(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return V(t)}const ps=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Pa=new Map;async function Mt(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:c,nonceManager:i,parameters:u=ps,type:f}=t,l=n&&W(n),d={...t,...l?{from:l?.address}:{}};let p;async function h(){return p||(p=await M(e,we,"getBlock")({blockTag:"latest"}),p)}let m;async function g(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await M(e,Qe,"getChainId")({}),m))}if(u.includes("nonce")&&typeof c>"u"&&l)if(i){const y=await g();d.nonce=await i.consume({address:l.address,chainId:y,client:e})}else d.nonce=await M(e,Sn,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const y=us({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const v=zo({commitments:y,to:"hex"});d.blobVersionedHashes=v}if(u.includes("sidecars")){const v=fs({blobs:r,commitments:y,kzg:o}),w=ls({blobs:r,commitments:y,proofs:v,to:"hex"});d.sidecars=w}}if(u.includes("chainId")&&(d.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{d.type=Uo(d)}catch{let y=Pa.get(e.uid);typeof y>"u"&&(y=typeof(await h())?.baseFeePerGas=="bigint",Pa.set(e.uid,y)),d.type=y?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const y=await h(),{maxFeePerGas:v,maxPriorityFeePerGas:w}=await _r(e,{block:y,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new w0({maxPriorityFeePerGas:w});d.maxPriorityFeePerGas=w,d.maxFeePerGas=v}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new is;if(typeof t.gasPrice>"u"){const y=await h(),{gasPrice:v}=await _r(e,{block:y,chain:s,request:d,type:"legacy"});d.gasPrice=v}}return u.includes("gas")&&typeof a>"u"&&(d.gas=await M(e,ms,"estimateGas")({...d,account:l,prepare:l?.type==="local"?[]:["blobVersionedHashes"]})),Fe(d),delete d.parameters,d}async function ms(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?W(n):void 0,a=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:o,authorizationList:c,blobs:i,blobVersionedHashes:u,blockNumber:f,blockTag:l,data:d,gas:p,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:v,value:w,stateOverride:b,...x}=r?await Mt(e,{...t,parameters:a}):t,P=(typeof f=="bigint"?T(f):void 0)||l,I=os(b),R=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await Tn({authorization:c[0]}).catch(()=>{throw new N("`to` is required. Could not infer from `authorizationList`")})})();Fe(t);const B=e.chain?.formatters?.transactionRequest?.format,k=(B||_e)({...ht(x,{format:B}),account:s,accessList:o,authorizationList:c,blobs:i,blobVersionedHashes:u,data:d,gas:p,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:v,to:R,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:I?[k,P??e.experimental_blockTag??"latest",I]:P?[k,P]:[k]}))}catch(o){throw b0(o,{...t,account:s,chain:e.chain})}}async function jo(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...c}=t,i=ue({abi:n,args:s,functionName:a});try{return await M(e,ms,"estimateGas")({data:`${i}${o?o.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?W(c.account):void 0;throw Ze(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:f?.address})}}async function hs(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:c,strict:i}={}){const u=i??!1,f=o??(a?[a]:void 0);let l=[];f&&(l=[f.flatMap(m=>St({abi:[m],eventName:m.name,args:o?void 0:c}))],a&&(l=l[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?T(r):r,toBlock:typeof s=="bigint"?T(s):s}]});const p=d.map(h=>Re(h));return f?ns({abi:f,args:c,logs:p,strict:u}):p}async function bs(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:c,toBlock:i,strict:u}=t,f=o?dt({abi:n,name:o}):void 0,l=f?void 0:n.filter(d=>d.type==="event");return M(e,hs,"getLogs")({address:r,args:s,blockHash:a,event:f,events:l,fromBlock:c,toBlock:i,strict:u})}const Kn="/docs/contract/decodeFunctionResult";function et(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const c=dt({abi:t,args:n,name:r});if(!c)throw new ut(r,{docsPath:Kn});a=c}if(a.type!=="function")throw new ut(void 0,{docsPath:Kn});if(!a.outputs)throw new so(a.name,{docsPath:Kn});const o=wn(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ys=BigInt(0),zr=BigInt(1);function _t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function gs(e){if(!_t(e))throw new Error("Uint8Array expected")}function It(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Vt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Do(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ys:BigInt("0x"+e)}const Go=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",A0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tt(e){if(gs(e),Go)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=A0[e[n]];return t}const Ee={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ia(e){if(e>=Ee._0&&e<=Ee._9)return e-Ee._0;if(e>=Ee.A&&e<=Ee.F)return e-(Ee.A-10);if(e>=Ee.a&&e<=Ee.f)return e-(Ee.a-10)}function pn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Go)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const o=Ia(e.charCodeAt(a)),c=Ia(e.charCodeAt(a+1));if(o===void 0||c===void 0){const i=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+i+'" at index '+a)}r[s]=o*16+c}return r}function Ge(e){return Do(Tt(e))}function Ho(e){return gs(e),Do(Tt(Uint8Array.from(e).reverse()))}function zt(e,t){return pn(e.toString(16).padStart(t*2,"0"))}function Vo(e,t){return zt(e,t).reverse()}function de(e,t,n){let r;if(typeof t=="string")try{r=pn(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(_t(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function mn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];gs(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}const Yn=e=>typeof e=="bigint"&&ys<=e;function ws(e,t,n){return Yn(e)&&Yn(t)&&Yn(n)&&t<=e&&e<n}function it(e,t,n,r){if(!ws(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function S0(e){let t;for(t=0;e>ys;e>>=zr,t+=1);return t}const Bn=e=>(zr<<BigInt(e))-zr,Jn=e=>new Uint8Array(e),Ta=e=>Uint8Array.from(e);function B0(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Jn(e),s=Jn(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},c=(...l)=>n(s,r,...l),i=(l=Jn(0))=>{s=c(Ta([0]),l),r=c(),l.length!==0&&(s=c(Ta([1]),l),r=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<t;){r=c();const p=r.slice();d.push(p),l+=r.length}return mn(...d)};return(l,d)=>{o(),i(l);let p;for(;!(p=d(u()));)i();return o(),p}}const $0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||_t(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function $n(e,t,n={}){const r=(s,a,o)=>{const c=$0[a];if(typeof c!="function")throw new Error("invalid validator function");const i=e[s];if(!(o&&i===void 0)&&!c(i,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+i)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function Aa(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}const k0="0.1.1";function C0(){return k0}class L extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof L){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof L&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${C0()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return Wo(this,t)}}function Wo(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Wo(e.cause,t):t?null:e}function Ft(e,t){if(at(e)>t)throw new J0({givenSize:at(e),maxSize:t})}const Pe={zero:48,nine:57,A:65,F:70,a:97,f:102};function Sa(e){if(e>=Pe.zero&&e<=Pe.nine)return e-Pe.zero;if(e>=Pe.A&&e<=Pe.F)return e-(Pe.A-10);if(e>=Pe.a&&e<=Pe.f)return e-(Pe.a-10)}function R0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new X0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const o=n==="right";s[o?a:r-a-1]=e[o?a:e.length-a-1]}return s}function Zo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function kn(e,t){if(Q(e)>t)throw new nf({givenSize:Q(e),maxSize:t})}function N0(e,t){if(typeof t=="number"&&t>0&&t>Q(e)-1)throw new ni({offset:t,position:"start",size:Q(e)})}function M0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Q(e)!==n-t)throw new ni({offset:n,position:"end",size:Q(e)})}function Ko(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new rf({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function _0(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const z0="#__bigint";function Cn(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+z0:s,n)}const F0=new TextDecoder,O0=new TextEncoder;function L0(e){if(!(e instanceof Uint8Array)){if(!e)throw new Wt(e);if(typeof e!="object")throw new Wt(e);if(!("BYTES_PER_ELEMENT"in e))throw new Wt(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new Wt(e)}}function q0(e){return e instanceof Uint8Array?e:typeof e=="string"?xs(e):U0(e)}function U0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function xs(e,t={}){const{size:n}=t;let r=e;n&&(kn(e,n),r=Je(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let c=0,i=0;c<a;c++){const u=Sa(s.charCodeAt(i++)),f=Sa(s.charCodeAt(i++));if(u===void 0||f===void 0)throw new L(`Invalid byte sequence ("${s[i-2]}${s[i-1]}" in "${s}").`);o[c]=u*16+f}return o}function j0(e,t={}){const{size:n}=t,r=O0.encode(e);return typeof n=="number"?(Ft(r,n),D0(r,n)):r}function D0(e,t){return R0(e,{dir:"right",size:t})}function at(e){return e.length}function G0(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function H0(e,t={}){const{size:n}=t;typeof n<"u"&&Ft(e,n);const r=ce(e,t);return Xo(r,t)}function V0(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Ft(r,n),r=Yo(r)),r.length>1||r[0]>1)throw new Y0(r);return!!r[0]}function Ae(e,t={}){const{size:n}=t;typeof n<"u"&&Ft(e,n);const r=ce(e,t);return Qo(r,t)}function W0(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Ft(r,n),r=Z0(r)),F0.decode(r)}function Yo(e){return Zo(e,{dir:"left"})}function Z0(e){return Zo(e,{dir:"right"})}function K0(e){try{return L0(e),!0}catch{return!1}}class Y0 extends L{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class Wt extends L{constructor(t){super(`Value \`${typeof t=="object"?Cn(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let J0=class extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},X0=class extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Q0=new TextEncoder,ef=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tf(e,t={}){const{strict:n=!1}=t;if(!e)throw new $a(e);if(typeof e!="string")throw new $a(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ka(e);if(!e.startsWith("0x"))throw new ka(e)}function oe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function vs(e){return e instanceof Uint8Array?ce(e):Array.isArray(e)?ce(new Uint8Array(e)):e}function Jo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(kn(n,t.size),Ye(n,t.size)):n}function ce(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ef[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(kn(r,t.size),Je(r,t.size)):r}function H(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const u=typeof e=="bigint"?"n":"";throw new ti({max:a?`${a}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ye(i,r):i}function Es(e,t={}){return ce(Q0.encode(e),t)}function Ye(e,t){return Ko(e,{dir:"left",size:t})}function Je(e,t){return Ko(e,{dir:"right",size:t})}function K(e,t,n,r={}){const{strict:s}=r;N0(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&M0(a,t,n),a}function Q(e){return Math.ceil((e.length-2)/2)}function Ba(e){return _0(e,{dir:"left"})}function Xo(e,t={}){const{signed:n}=t;t.size&&kn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,o=a>>1n;return r<=o?r:r-a-1n}function Qo(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Xo(e,t))}function ei(e,t={}){const{strict:n=!1}=t;try{return tf(e,{strict:n}),!0}catch{return!1}}class ti extends L{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class $a extends L{constructor(t){super(`Value \`${typeof t=="object"?Cn(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ka extends L{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class nf extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ni extends L{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class rf extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function sf(e){return{address:e.address,amount:H(e.amount),index:H(e.index),validatorIndex:H(e.validatorIndex)}}function ri(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:H(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:H(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:H(e.gasLimit)},...typeof e.number=="bigint"&&{number:H(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:H(e.prevRandao)},...typeof e.time=="bigint"&&{time:H(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(sf)}}}const hn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Fr=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],si=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],ai=[...si,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],af=[...si,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Ca=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ra=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],oi=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Na=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],gm=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],wm=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],xm=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],vm=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],Em=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],of="0x82ad56cb",ii="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",cf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",uf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ps="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Or extends N{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ff extends N{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class df extends N{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ci extends N{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Rn extends N{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Xn="/docs/contract/encodeDeployData";function Nn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new ao({docsPath:Xn});if(!("inputs"in s))throw new an({docsPath:Xn});if(!s.inputs||s.inputs.length===0)throw new an({docsPath:Xn});const a=lt(s.inputs,n);return me([r,a])}function bt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Or({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Or({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ui(e,{docsPath:t,...n}){const r=(()=>{const s=An(e,n);return s instanceof Nt?e:s})();return new Co(r,{docsPath:t,...n})}function Is(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Qn=new Map;function Ts({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const f=i();o();const l=f.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let p=0;p<f.length;p++){const{resolve:h}=f[p];h?.([d[p],d])}}).catch(d=>{for(let p=0;p<f.length;p++){const{reject:h}=f[p];h?.(d)}})},o=()=>Qn.delete(t),c=()=>i().map(({args:f})=>f),i=()=>Qn.get(t)||[],u=f=>Qn.set(t,[...i(),f]);return{flush:o,async schedule(f){const{promise:l,resolve:d,reject:p}=Is();return n?.([...c(),f])&&a(),i().length>0?(u({args:f,resolve:d,reject:p}),l):(u({args:f,resolve:d,reject:p}),setTimeout(a,r),l)}}}async function Ot(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",accessList:c,blobs:i,blockOverrides:u,code:f,data:l,factory:d,factoryData:p,gas:h,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:w,to:b,value:x,stateOverride:E,...P}=t,I=n?W(n):void 0;if(f&&(d||p))throw new N("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&b)throw new N("Cannot provide both `code` & `to` as parameters.");const R=f&&l,B=d&&p&&b&&l,$=R||B,k=R?fi({code:f,data:l}):B?mf({data:l,factory:d,factoryData:p,to:b}):l;try{Fe(t);const U=(typeof a=="bigint"?T(a):void 0)||o,S=u?ri(u):void 0,A=os(E),_=e.chain?.formatters?.transactionRequest?.format,F=(_||_e)({...ht(P,{format:_}),accessList:c,account:I,authorizationList:r,blobs:i,data:k,gas:h,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:w,to:$?void 0:b,value:x},"call");if(s&&lf({request:F})&&!A&&!S)try{return await pf(e,{...F,blockNumber:a,blockTag:o})}catch(G){if(!(G instanceof ci)&&!(G instanceof Or))throw G}const O=(()=>{const G=[F,U];return A&&S?[...G,A,S]:A?[...G,A]:S?[...G,{},S]:G})(),D=await e.request({method:"eth_call",params:O});return D==="0x"?{data:void 0}:{data:D}}catch(z){const U=hf(z),{offchainLookup:S,offchainLookupSignature:A}=await ts(async()=>{const{offchainLookup:_,offchainLookupSignature:C}=await Promise.resolve().then(()=>wd);return{offchainLookup:_,offchainLookupSignature:C}},void 0);if(e.ccipRead!==!1&&U?.slice(0,10)===A&&b)return{data:await S(e,{data:U,to:b})};throw $&&U?.slice(0,10)==="0x101bb98d"?new f0({factory:d}):ui(z,{...t,account:I,chain:e.chain})}}function lf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(of)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function pf(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",data:c,to:i}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return bt({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new ci})(),l=(typeof a=="bigint"?T(a):void 0)||o,{schedule:d}=Ts({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(m){return m.reduce((y,{data:v})=>y+(v.length-2),0)>n*2},fn:async m=>{const g=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),y=ue({abi:hn,args:[g],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{...u===null?{data:fi({code:Ps,data:y})}:{to:u,data:y}},l]});return et({abi:hn,args:[g],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:h}]=await d({data:c,to:i});if(!h)throw new In({data:p});return p==="0x"?{data:void 0}:{data:p}}function fi(e){const{code:t,data:n}=e;return Nn({abi:Eo(["constructor(bytes, bytes)"]),bytecode:ii,args:[t,n]})}function mf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Nn({abi:Eo(["constructor(address, bytes, address, bytes)"]),bytecode:cf,args:[s,t,n,r]})}function hf(e){if(!(e instanceof N))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function pe(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,c=ue({abi:n,args:s,functionName:a});try{const{data:i}=await M(e,Ot,"call")({...o,data:c,to:r});return et({abi:n,args:s,functionName:a,data:i||"0x"})}catch(i){throw Ze(i,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function di(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...c}=t,i=c.account?W(c.account):e.account,u=ue({abi:n,args:s,functionName:o});try{const{data:f}=await M(e,Ot,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...c,account:i}),l=et({abi:n,args:s,functionName:o,data:f||"0x"}),d=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:l,request:{abi:d,address:r,args:s,dataSuffix:a,functionName:o,...c,account:i}}}catch(f){throw Ze(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:i?.address})}}const er=new Map,Ma=new Map;let bf=0;function $e(e,t,n){const r=++bf,s=()=>er.get(e)||[],a=()=>{const f=s();er.set(e,f.filter(l=>l.id!==r))},o=()=>{const f=s();if(!f.some(d=>d.id===r))return;const l=Ma.get(e);if(f.length===1&&l){const d=l();d instanceof Promise&&d.catch(()=>{})}a()},c=s();if(er.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return o;const i={};for(const f in t)i[f]=(...l)=>{const d=s();if(d.length!==0)for(const p of d)p.fns[f]?.(...l)};const u=n(i);return typeof u=="function"&&Ma.set(e,u),o}async function bn(e){return new Promise(t=>setTimeout(t,e))}function yt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:a}));const i=await n?.(c)??r;await bn(i);const u=async()=>{s&&(await e({unpoll:a}),await bn(r),u())};u()})(),a}const yf=new Map,gf=new Map;function wf(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,yf),r=t(e,gf);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function xf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=wf(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const vf=e=>`blockNumber.${e}`;async function Lt(e,{cacheTime:t=e.cacheTime}={}){const n=await xf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:vf(e.uid),cacheTime:t});return BigInt(n)}async function Mn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Re(a));return!("abi"in t)||!t.abi?s:ns({abi:t.abi,logs:s,strict:n})}async function _n(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function li(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:c,onError:i,onLogs:u,poll:f,pollingInterval:l=e.pollingInterval,strict:d}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=d??!1,y=J(["watchContractEvent",r,s,a,e.uid,o,l,g,c]);return $e(y,{onLogs:u,onError:i},v=>{let w;c!==void 0&&(w=c-1n);let b,x=!1;const E=yt(async()=>{if(!x){try{b=await M(e,ss,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:g,fromBlock:c})}catch{}x=!0;return}try{let P;if(b)P=await M(e,Mn,"getFilterChanges")({filter:b});else{const I=await M(e,Lt,"getBlockNumber")({});w&&w<I?P=await M(e,bs,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:I,strict:g}):P=[],w=I}if(P.length===0)return;if(a)v.onLogs(P);else for(const I of P)v.onLogs([I])}catch(P){b&&P instanceof fn&&(x=!1),v.onError?.(P)}},{emitOnBegin:!0,interval:l});return async()=>{b&&await M(e,_n,"uninstallFilter")({filter:b}),E()}})})():(()=>{const g=d??!1,y=J(["watchContractEvent",r,s,a,e.uid,o,l,g]);let v=!0,w=()=>v=!1;return $e(y,{onLogs:u,onError:i},b=>((async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(R=>R.config.type==="webSocket"||R.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),E=o?St({abi:n,eventName:o,args:s}):[],{unsubscribe:P}=await x.subscribe({params:["logs",{address:r,topics:E}],onData(I){if(!v)return;const R=I.result;try{const{eventName:B,args:$}=oo({abi:n,data:R.data,topics:R.topics,strict:d}),k=Re(R,{args:$,eventName:B});b.onLogs([k])}catch(B){let $,k;if(B instanceof io||B instanceof co){if(d)return;$=B.abiItem.name,k=B.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const z=Re(R,{args:k?[]:{},eventName:$});b.onLogs([z])}},onError(I){b.onError?.(I)}});w=P,v||w()}catch(x){i?.(x)}})(),()=>w()))})()}class Oe extends N{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class He extends N{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function As({chain:e,currentChainId:t}){if(!e)throw new df;if(t!==e.id)throw new ff({chain:e,currentChainId:t})}function Ss(e,{docsPath:t,...n}){const r=(()=>{const s=An(e,n);return s instanceof Nt?e:s})();return new i0(r,{docsPath:t,...n})}async function Bs(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const tr=new xn(128);async function zn(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,type:h,value:m,...g}=t;if(typeof n>"u")throw new Oe({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?W(n):null;try{Fe(t);const v=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Tn({authorization:a[0]}).catch(()=>{throw new N("`to` is required. Could not infer from `authorizationList`.")})})();if(y?.type==="json-rpc"||y===null){let w;r!==null&&(w=await M(e,Qe,"getChainId")({}),As({currentChainId:w,chain:r}));const b=e.chain?.formatters?.transactionRequest?.format,E=(b||_e)({...ht(g,{format:b}),accessList:s,account:y,authorizationList:a,blobs:o,chainId:w,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,to:v,type:h,value:m},"sendTransaction"),P=tr.get(e.uid),I=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:I,params:[E]},{retryCount:0})}catch(R){if(P===!1)throw R;const B=R;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[E]},{retryCount:0}).then($=>(tr.set(e.uid,!0),$)).catch($=>{const k=$;throw k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError"?(tr.set(e.uid,!1),B):k});throw B}}if(y?.type==="local"){const w=await M(e,Mt,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:o,chain:r,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,nonceManager:y.nonceManager,parameters:[...ps,"sidecars"],type:h,value:m,...g,to:v}),b=r?.serializers?.transaction,x=await y.signTransaction(w,{serializer:b});return await M(e,Bs,"sendRawTransaction")({serializedTransaction:x})}throw y?.type==="smart"?new He({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new He({docsPath:"/docs/actions/wallet/sendTransaction",type:y?.type})}catch(v){throw v instanceof He?v:Ss(v,{...t,account:y,chain:t.chain||void 0})}}async function ft(e,t){return ft.internal(e,zn,"sendTransaction",t)}(function(e){async function t(n,r,s,a){const{abi:o,account:c=n.account,address:i,args:u,dataSuffix:f,functionName:l,...d}=a;if(typeof c>"u")throw new Oe({docsPath:"/docs/contract/writeContract"});const p=c?W(c):null,h=ue({abi:o,args:u,functionName:l});try{return await M(n,r,s)({data:`${h}${f?f.replace("0x",""):""}`,to:i,account:p,...d})}catch(m){throw Ze(m,{abi:o,address:i,args:u,docsPath:"/docs/contract/writeContract",functionName:l,sender:p?.address})}}e.internal=t})(ft||(ft={}));function Pm({abi:e,address:t,client:n}){const r=n,[s,a]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,c=a!=null,i={};let u=!1,f=!1,l=!1;for(const d of e)if(d.type==="function"?d.stateMutability==="view"||d.stateMutability==="pure"?u=!0:f=!0:d.type==="event"&&(l=!0),u&&f&&l)break;return o&&(u&&(i.read=new Proxy({},{get(d,p){return(...h)=>{const{args:m,options:g}=Zt(h);return M(s,pe,"readContract")({abi:e,address:t,functionName:p,args:m,...g})}}})),f&&(i.simulate=new Proxy({},{get(d,p){return(...h)=>{const{args:m,options:g}=Zt(h);return M(s,di,"simulateContract")({abi:e,address:t,functionName:p,args:m,...g})}}})),l&&(i.createEventFilter=new Proxy({},{get(d,p){return(...h)=>{const m=e.find(v=>v.type==="event"&&v.name===p),{args:g,options:y}=nr(h,m);return M(s,ss,"createContractEventFilter")({abi:e,address:t,eventName:p,args:g,...y})}}}),i.getEvents=new Proxy({},{get(d,p){return(...h)=>{const m=e.find(v=>v.type==="event"&&v.name===p),{args:g,options:y}=nr(h,m);return M(s,bs,"getContractEvents")({abi:e,address:t,eventName:p,args:g,...y})}}}),i.watchEvent=new Proxy({},{get(d,p){return(...h)=>{const m=e.find(v=>v.type==="event"&&v.name===p),{args:g,options:y}=nr(h,m);return M(s,li,"watchContractEvent")({abi:e,address:t,eventName:p,args:g,...y})}}}))),c&&f&&(i.write=new Proxy({},{get(d,p){return(...h)=>{const{args:m,options:g}=Zt(h);return M(a,ft,"writeContract")({abi:e,address:t,functionName:p,args:m,...g})}}})),(o||c)&&f&&(i.estimateGas=new Proxy({},{get(d,p){return(...h)=>{const{args:m,options:g}=Zt(h);return M(s??a,jo,"estimateContractGas")({abi:e,address:t,functionName:p,args:m,...g,account:g.account??a.account})}}})),i.address=t,i.abi=e,i}function Zt(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function nr(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class Ef extends N{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function yn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:c=0}={})=>{const i=async({error:u})=>{const f=typeof t=="function"?t({count:c,error:u}):t;f&&await bn(f),o({count:c+1})};try{const u=await e();s(u)}catch(u){if(c<n&&await r({count:c,error:u}))return i({error:u});a(u)}};o()})}const pi="0x5792579257925792579257925792579257925792579257925792579257925792",mi=T(0,{size:32});async function hi(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:c=!1,id:i,version:u="2.0.0"}=t,f=n?W(n):null,l=t.calls.map(d=>{const p=d,h=p.abi?ue({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&h?Ve([h,p.dataSuffix]):h,to:p.to,value:p.value?T(p.value):void 0}});try{const d=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:l,capabilities:r,chainId:T(s.id),from:f?.address,id:i,version:u}]},{retryCount:0});return typeof d=="string"?{id:d}:d}catch(d){const p=d;if(a&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new gr(new N(v,{details:v}))}if(c&&l.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new wr(new N(y,{details:y}))}const h=[];for(const y of l){const v=zn(e,{account:f,chain:s,data:y.data,to:y.to,value:y.value?j(y.value):void 0});h.push(v),o>0&&await new Promise(w=>setTimeout(w,o))}const m=await Promise.allSettled(h);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const g=m.map(y=>y.status==="fulfilled"?y.value:mi);return{id:Ve([...g,T(s.id,{size:32}),pi])}}throw Ss(d,{...t,account:f,chain:t.chain})}}async function bi(e,t){async function n(f){if(f.endsWith(pi.slice(2))){const d=We(on(f,-64,-32)),p=on(f,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(p.map(g=>mi.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),m=h.some(g=>g===null)?100:h.every(g=>g?.status==="0x1")?200:h.every(g=>g?.status==="0x0")?500:600;return{atomic:!1,chainId:V(d),receipts:h.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:a,version:o="2.0.0",...c}=await n(t.id),[i,u]=(()=>{const f=c.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...c,atomic:r,chainId:s?V(s):void 0,receipts:a?.map(f=>({...f,blockNumber:j(f.blockNumber),gasUsed:j(f.gasUsed),status:kc[f.status]}))??[],statusCode:u,status:i,version:o}}async function yi(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:a=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:c=6e4,throwOnFailure:i=!1}=t,u=J(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:l,reject:d}=Is();let p;const h=$e(u,{resolve:l,reject:d},m=>{const g=yt(async()=>{const y=v=>{clearTimeout(p),g(),v(),h()};try{const v=await yn(async()=>{const w=await M(e,bi,"getCallsStatus")({id:n});if(i&&w.status==="failure")throw new Ef(w);return w},{retryCount:a,delay:o});if(!s(v))return;y(()=>m.resolve(v))}catch(v){y(()=>m.reject(v))}},{interval:r,emitOnBegin:!0});return g});return p=c?setTimeout(()=>{h(),clearTimeout(p),d(new Pf({id:n}))},c):void 0,await f}class Pf extends N{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Lr=256;let Kt=Lr,Yt;function gi(e=11){if(!Yt||Kt+e>Lr*2){Yt="",Kt=0;for(let t=0;t<Lr;t++)Yt+=(256+Math.random()*256|0).toString(16).substring(1)}return Yt.substring(Kt,Kt+++e)}function $s(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:o="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),i=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(i/2),500),4e3),f=e.pollingInterval??u,l=e.cacheTime??f,d=e.account?W(e.account):void 0,{config:p,request:h,value:m}=e.transport({chain:n,pollingInterval:f}),g={...p,...m},y={account:d,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:a,pollingInterval:f,request:h,transport:g,type:o,uid:gi(),...c?{experimental_blockTag:c}:{}};function v(w){return b=>{const x=b(w);for(const P in y)delete x[P];const E={...w,...x};return Object.assign(E,{extend:v(E)})}}return Object.assign(y,{extend:v(y)})}function Im(){return null}function ks(e){if(!(e instanceof N))return!1;const t=e.walk(n=>n instanceof Ar);return t instanceof Ar?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function If(e){const{abi:t,data:n}=e,r=cn(n,0,4),s=t.find(a=>a.type==="function"&&r===Qr(Bt(a)));if(!s)throw new Cc(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?wn(s.inputs,cn(n,4)):void 0}}const rr="/docs/contract/encodeErrorResult";function _a(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const i=dt({abi:t,args:r,name:n});if(!i)throw new Zs(n,{docsPath:rr});s=i}if(s.type!=="error")throw new Zs(void 0,{docsPath:rr});const a=Bt(s),o=Qr(a);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new Rc(s.name,{docsPath:rr});c=lt(s.inputs,r)}return me([o,c])}const sr="/docs/contract/encodeFunctionResult";function Tf(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=dt({abi:t,name:n});if(!o)throw new ut(n,{docsPath:sr});s=o}if(s.type!=="function")throw new ut(void 0,{docsPath:sr});if(!s.outputs)throw new so(s.name,{docsPath:sr});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Nc(r)})();return lt(s.outputs,a)}const qt="x-batch-gateway:true";async function wi(e){const{data:t,ccipRequest:n}=e,{args:[r]}=If({abi:Fr,data:t}),s=[],a=[];return await Promise.all(r.map(async(o,c)=>{try{a[c]=o.urls.includes(qt)?await wi({data:o.data,ccipRequest:n}):await n(o),s[c]=!1}catch(i){s[c]=!0,a[c]=Af(i)}})),Tf({abi:Fr,functionName:"query",result:[s,a]})}function Af(e){return e.name==="HttpRequestError"&&e.status?_a({abi:Fr,errorName:"HttpError",args:[e.status,e.shortMessage]}):_a({abi:[Mc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function qr(e){let t=new Uint8Array(32).fill(0);if(!e)return ae(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=_c(n[r]),a=s?Ce(s):Se(Qt(n[r]),"bytes");t=Se(Ve([t,a]),"bytes")}return ae(t)}function Sf(e){return`[${e.slice(2)}]`}function Cs(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Qt(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=Qt(s[a]);o.byteLength>255&&(o=Qt(Sf(zc(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Bf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return bt({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i?.ensTlds;if(f&&!f.some(d=>a.endsWith(d)))return null;const l=s!=null?[qr(a),BigInt(s)]:[qr(a)];try{const d=ue({abi:Ra,functionName:"addr",args:l}),p={address:u,abi:ai,functionName:"resolveWithGateways",args:[Be(Cs(a)),d,o??[qt]],blockNumber:n,blockTag:r},m=await M(e,pe,"readContract")(p);if(m[0]==="0x")return null;const g=et({abi:Ra,args:l,functionName:"addr",data:m[0]});return g==="0x"||We(g)==="0x00"?null:g}catch(d){if(c)throw d;if(ks(d))return null;throw d}}class $f extends N{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class vt extends N{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Rs extends N{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class kf extends N{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class Cf extends N{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const Rf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Nf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Mf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,_f=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function zf(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function za(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function xi({uri:e,gatewayUrls:t}){const n=Mf.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=za(t?.ipfs,"https://ipfs.io"),s=za(t?.arweave,"https://arweave.net"),a=e.match(Rf),{protocol:o,subpath:c,target:i,subtarget:u=""}=a?.groups||{},f=o==="ipns:/"||c==="ipns/",l=o==="ipfs:/"||c==="ipfs/"||Nf.test(e);if(e.startsWith("http")&&!f&&!l){let p=e;return t?.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((f||l)&&i)return{uri:`${r}/${f?"ipns":"ipfs"}/${i}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&i)return{uri:`${s}/${i}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(_f,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Rs({uri:e})}function vi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new $f({data:e});return e.image||e.image_url||e.image_data}async function Ff({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ns({gatewayUrls:e,uri:vi(n)})}catch{throw new Rs({uri:t})}}async function Ns({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=xi({uri:t,gatewayUrls:e});if(r||await zf(n))return n;throw new Rs({uri:t})}function Of(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[c,i]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new vt({reason:"Only EIP-155 supported"});if(!o)throw new vt({reason:"Chain ID not found"});if(!i)throw new vt({reason:"Contract address not found"});if(!s)throw new vt({reason:"Token ID not found"});if(!c)throw new vt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:c.toLowerCase(),contractAddress:i,tokenID:s}}async function Lf(e,{nft:t}){if(t.namespace==="erc721")return pe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return pe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new kf({namespace:t.namespace})}async function qf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Uf(e,{gatewayUrls:t,record:n}):Ns({uri:n,gatewayUrls:t})}async function Uf(e,{gatewayUrls:t,record:n}){const r=Of(n),s=await Lf(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:c}=xi({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=c?atob(a.replace("data:application/json;base64,","")):a,f=JSON.parse(u);return Ns({uri:vi(f),gatewayUrls:t})}let i=r.tokenID;return r.namespace==="erc1155"&&(i=i.replace("0x","").padStart(64,"0")),Ff({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,i)})}async function Ei(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return bt({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i?.ensTlds;if(f&&!f.some(l=>a.endsWith(l)))return null;try{const l={address:u,abi:ai,args:[Be(Cs(a)),ue({abi:Ca,functionName:"text",args:[qr(a),s]}),o??[qt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await M(e,pe,"readContract")(l);if(p[0]==="0x")return null;const h=et({abi:Ca,functionName:"text",data:p[0]});return h===""?null:h}catch(l){if(c)throw l;if(ks(l))return null;throw l}}async function jf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:c}){const i=await M(e,Ei,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:a,strict:o});if(!i)return null;try{return await qf(e,{record:i,gatewayUrls:r})}catch{return null}}async function Df(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return bt({blockNumber:r,chain:i,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:af,args:[n,a,o??[qt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=M(e,pe,"readContract"),[d]=await l(f);return d||null}catch(f){if(c)throw f;if(ks(f))return null;throw f}}async function Gf(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return bt({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),c=a?.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[i]=await M(e,pe,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Be(Cs(s))],blockNumber:n,blockTag:r});return i}async function Pi(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:p,...h}=t,m=n?W(n):void 0;try{Fe(t);const y=(typeof r=="bigint"?T(r):void 0)||s,v=e.chain?.formatters?.transactionRequest?.format,b=(v||_e)({...ht(h,{format:v}),account:m,blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:p},"createAccessList"),x=await e.request({method:"eth_createAccessList",params:[b,y]});return{accessList:x.accessList,gasUsed:BigInt(x.gasUsed)}}catch(g){throw ui(g,{...t,account:m,chain:e.chain})}}async function Hf(e){const t=Pn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ii(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:c}={}){const i=s??(r?[r]:void 0),u=Pn(e,{method:"eth_newFilter"});let f=[];i&&(f=[i.flatMap(p=>St({abi:[p],eventName:p.name,args:n}))],r&&(f=f[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?T(a):a,toBlock:typeof c=="bigint"?T(c):c,...f.length?{topics:f}:{}}]});return{abi:i,args:n,eventName:r?r.name:void 0,fromBlock:a,id:l,request:u(l),strict:!!o,toBlock:c,type:"event"}}async function Ti(e){const t=Pn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Vf(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?T(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Wf(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Zf(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?T(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),V(a)}async function Ur(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?T(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}class Kf extends N{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Yf(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,o,c,i,u,f,l]=await M(e,pe,"readContract")({abi:Jf,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:c,chainId:Number(i),verifyingContract:u,salt:f},extensions:l,fields:a}}catch(a){const o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Kf({address:n}):o}}const Jf=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Xf(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Qf(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?T(n):void 0,o=await e.request({method:"eth_feeHistory",params:[T(t),a||r,s]},{dedupe:!!a});return Xf(o)}async function ed(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Re(a));return t.abi?ns({abi:t.abi,logs:s,strict:n}):s}function Tm(e,t){if(e.length!==t.length)throw new Fc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Ai(s,a))}return me(n)}function Ai(e,t,n=!1){if(e==="address"){const o=t;if(!be(o))throw new xe({address:o});return en(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Et(t);if(e==="bytes")return t;if(e==="bool")return en(Oc(t),{size:n?32:1});const r=e.match(Lc);if(r){const[o,c,i="256"]=r,u=Number.parseInt(i,10)/8;return T(t,{size:n?32:u,signed:c==="int"})}const s=e.match(qc);if(s){const[o,c]=s;if(Number.parseInt(c,10)!==(t.length-2)/2)throw new Uc({expectedSize:Number.parseInt(c,10),givenSize:(t.length-2)/2});return en(t,{dir:"right",size:n?32:null})}const a=e.match(jc);if(a&&Array.isArray(t)){const[o,c]=a,i=[];for(let u=0;u<t.length;u++)i.push(Ai(c,t[u],!0));return i.length===0?"0x":me(i)}throw new Dc(e)}function Fa(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function Am(e){return e.opcode==="CREATE2"?nd(e):td(e)}function td(e){const t=Ce(ve(e.from));let n=Ce(e.nonce);return n[0]===0&&(n=new Uint8Array([])),ve(`0x${Se(Ne([t,n],"bytes")).slice(26)}`)}function nd(e){const t=Ce(ve(e.from)),n=en(Fa(e.salt)?e.salt:Ce(e.salt),{size:32}),r="bytecodeHash"in e?Fa(e.bytecodeHash)?e.bytecodeHash:Ce(e.bytecodeHash):Se(e.bytecode,"bytes");return ve(cn(Se(Ve([Ce("0xff"),t,n,r])),12))}function Si(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!be(s))throw new xe({address:s});if(r<0)throw new Rn({chainId:r})}Fn(e)}function Bi(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new qo;for(const n of t){const r=$t(n),s=V(cn(n,0,1));if(r!==32)throw new P0({hash:n,size:r});if(s!==Lo)throw new I0({hash:n,version:s})}}Fn(e)}function Fn(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Rn({chainId:t});if(s&&!be(s))throw new xe({address:s});if(r&&r>vn)throw new Ke({maxFeePerGas:r});if(n&&r&&n>r)throw new Pt({maxFeePerGas:r,maxPriorityFeePerGas:n})}function $i(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new Rn({chainId:t});if(a&&!be(a))throw new xe({address:a});if(n||s)throw new N("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>vn)throw new Ke({maxFeePerGas:r})}function ki(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(a&&!be(a))throw new xe({address:a});if(typeof t<"u"&&t<=0)throw new Rn({chainId:t});if(n||s)throw new N("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>vn)throw new Ke({maxFeePerGas:r})}function On(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let a=0;a<s.length;a++)if(s[a].length-2!==64)throw new o0({storageKey:s[a]});if(!be(r,{strict:!1}))throw new xe({address:r});t.push([r,s])}return t}function rd(e,t){const n=Uo(e);return n==="eip1559"?od(e,t):n==="eip2930"?id(e,t):n==="eip4844"?ad(e,t):n==="eip7702"?sd(e,t):cd(e,t)}function sd(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:o,value:c,maxFeePerGas:i,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Si(e);const d=On(f),p=ud(n);return me(["0x04",Ne([T(r),a?T(a):"0x",u?T(u):"0x",i?T(i):"0x",s?T(s):"0x",o??"0x",c?T(c):"0x",l??"0x",d,p,...Ut(e,t)])])}function ad(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerBlobGas:c,maxFeePerGas:i,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Bi(e);let d=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof p>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>ae(E)),b=e.kzg,x=us({blobs:w,kzg:b});if(typeof d>"u"&&(d=zo({commitments:x})),typeof p>"u"){const E=fs({blobs:w,commitments:x,kzg:b});p=ls({blobs:w,commitments:x,proofs:E})}}const h=On(f),m=[T(n),s?T(s):"0x",u?T(u):"0x",i?T(i):"0x",r?T(r):"0x",a??"0x",o?T(o):"0x",l??"0x",h,c?T(c):"0x",d??[],...Ut(e,t)],g=[],y=[],v=[];if(p)for(let w=0;w<p.length;w++){const{blob:b,commitment:x,proof:E}=p[w];g.push(b),y.push(x),v.push(E)}return me(["0x03",p?Ne([m,g,y,v]):Ne(m)])}function od(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerGas:c,maxPriorityFeePerGas:i,accessList:u,data:f}=e;Fn(e);const l=On(u),d=[T(n),s?T(s):"0x",i?T(i):"0x",c?T(c):"0x",r?T(r):"0x",a??"0x",o?T(o):"0x",f??"0x",l,...Ut(e,t)];return me(["0x02",Ne(d)])}function id(e,t){const{chainId:n,gas:r,data:s,nonce:a,to:o,value:c,accessList:i,gasPrice:u}=e;$i(e);const f=On(i),l=[T(n),a?T(a):"0x",u?T(u):"0x",r?T(r):"0x",o??"0x",c?T(c):"0x",s??"0x",f,...Ut(e,t)];return me(["0x01",Ne(l)])}function cd(e,t){const{chainId:n=0,gas:r,data:s,nonce:a,to:o,value:c,gasPrice:i}=e;ki(e);let u=[a?T(a):"0x",i?T(i):"0x",r?T(r):"0x",o??"0x",c?T(c):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new So({v:t.v});return p})(),l=We(t.r),d=We(t.s);u=[...u,T(f),l==="0x00"?"0x":l,d==="0x00"?"0x":d]}else n>0&&(u=[...u,T(n),"0x","0x"]);return Ne(u)}function Ut(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const a=We(n.r),o=We(n.s);return[typeof s=="number"?s?T(1):"0x":r===0n?"0x":r===1n?T(1):r===27n?"0x":T(1),a==="0x00"?"0x":a,o==="0x00"?"0x":o]}function ud(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...a}=n,o=n.address;t.push([r?Be(r):"0x",o,s?Be(s):"0x",...Ut({},a)])}return t}async function fd({address:e,authorization:t,signature:n}){return ze(ve(e),await Tn({authorization:t,signature:n}))}const Jt=new xn(8192);function dd(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Jt.get(n))return Jt.get(n);const r=e().finally(()=>Jt.delete(n));return Jt.set(n,r),r}function ld(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:a,retryDelay:o=150,retryCount:c=3,uid:i}={...t,...r},{method:u}=n;if(a?.exclude?.includes(u))throw new Ht(new Error("method not supported"),{method:u});if(a?.include&&!a.include.includes(u))throw new Ht(new Error("method not supported"),{method:u});const f=s?Et(`${i}.${J(n)}`):void 0;return dd(()=>yn(async()=>{try{return await e(n)}catch(l){const d=l;switch(d.code){case pa.code:throw new pa(d);case la.code:throw new la(d);case da.code:throw new da(d,{method:n.method});case fa.code:throw new fa(d);case un.code:throw new un(d);case fn.code:throw new fn(d);case ua.code:throw new ua(d);case ca.code:throw new ca(d);case vr.code:throw new vr(d);case Ht.code:throw new Ht(d,{method:n.method});case xr.code:throw new xr(d);case ia.code:throw new ia(d);case tn.code:throw new tn(d);case oa.code:throw new oa(d);case aa.code:throw new aa(d);case sa.code:throw new sa(d);case ra.code:throw new ra(d);case na.code:throw new na(d);case gr.code:throw new gr(d);case ta.code:throw new ta(d);case ea.code:throw new ea(d);case Qs.code:throw new Qs(d);case Xs.code:throw new Xs(d);case Js.code:throw new Js(d);case wr.code:throw new wr(d);case 5e3:throw new tn(d);default:throw l instanceof N?l:new iu(d)}}},{delay:({count:l,error:d})=>{if(d&&d instanceof De){const p=d?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<l)*o},retryCount:c,shouldRetry:({error:l})=>pd(l)}),{enabled:s,id:f})}}function pd(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===xr.code||e.code===un.code:e instanceof De&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class md extends N{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${po(c)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class hd extends N{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${po(n)}`,`Response: ${J(t)}`],name:"OffchainLookupResponseMalformedError"})}}class bd extends N{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const yd="0x556f1830",Ci={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function gd(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=to({data:r,abi:[Ci]}),[o,c,i,u,f]=a,{ccipRead:l}=e,d=l&&typeof l?.request=="function"?l.request:Ri;try{if(!ze(s,o))throw new bd({sender:o,to:s});const p=c.includes(qt)?await wi({data:i,ccipRequest:d}):await d({data:i,sender:o,urls:c}),{data:h}=await Ot(e,{blockNumber:t,blockTag:n,data:Ve([u,lt([{type:"bytes"},{type:"bytes"}],[p,f])]),to:s});return h}catch(p){throw new md({callbackSelector:u,cause:p,data:r,extraData:f,sender:o,urls:c})}}async function Ri({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],o=a.includes("{data}")?"GET":"POST",c=o==="POST"?{data:e,sender:t}:void 0,i=o==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(a.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:i,method:o});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new De({body:c,details:f?.error?J(f.error):u.statusText,headers:u.headers,status:u.status,url:a});continue}if(!q(f)){r=new hd({result:f,url:a});continue}return f}catch(u){r=new De({body:c,details:u.message,url:a})}}throw r}const wd=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ri,offchainLookup:gd,offchainLookupAbiItem:Ci,offchainLookupSignature:yd},Symbol.toStringTag,{value:"Module"}));function Sm({chains:e,id:t}){return e.find(n=>n.id===t)}function Ni(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new Gc(e);return le(e)}return e})(),r=sn(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return Mi(r,t)}function Mi(e,t="hex"){if(e.bytes.length===0)return t==="hex"?ae(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Oa(e,n,128),a=e.readBytes(s);return t==="hex"?ae(a):a}const r=Oa(e,n,192);return xd(e,r,t)}function Oa(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new N("Invalid RLP prefix")}function xd(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(Mi(e,n));return s}function vd(e){return q(e)&&$t(e)===32}const Ed=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),_i=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),Pd=_i.map(e=>(9*e+5)%16),zi=(()=>{const n=[[_i],[Pd]];for(let r=0;r<4;r++)for(let s of n)s.push(s[r].map(a=>Ed[a]));return n})(),Fi=zi[0],Oi=zi[1],Li=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Id=Fi.map((e,t)=>e.map(n=>Li[t][n])),Td=Oi.map((e,t)=>e.map(n=>Li[t][n])),Ad=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Sd=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function La(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Xt=new Uint32Array(16);class Bd extends uu{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:a}=this;return[t,n,r,s,a]}set(t,n,r,s,a){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=a|0}process(t,n){for(let p=0;p<16;p++,n+=4)Xt[p]=t.getUint32(n,!0);let r=this.h0|0,s=r,a=this.h1|0,o=a,c=this.h2|0,i=c,u=this.h3|0,f=u,l=this.h4|0,d=l;for(let p=0;p<5;p++){const h=4-p,m=Ad[p],g=Sd[p],y=Fi[p],v=Oi[p],w=Id[p],b=Td[p];for(let x=0;x<16;x++){const E=Gt(r+La(p,a,c,u)+Xt[y[x]]+m,w[x])+l|0;r=l,l=u,u=Gt(c,10)|0,c=a,a=E}for(let x=0;x<16;x++){const E=Gt(s+La(h,o,i,f)+Xt[v[x]]+g,b[x])+d|0;s=d,d=f,f=Gt(i,10)|0,i=o,o=E}}this.set(this.h1+c+f|0,this.h2+u+d|0,this.h3+l+s|0,this.h4+r+o|0,this.h0+a+i|0)}roundClean(){br(Xt)}destroy(){this.destroyed=!0,br(this.buffer),this.set(0,0,0,0,0)}}const $d=Hc(()=>new Bd),kd=$d;function Bm(e,t){const n=t||"hex",r=kd(q(e,{strict:!1})?Ce(e):e);return n==="bytes"?r:Be(r)}function Cd(e){const{source:t}=e,n=new Map,r=new xn(8192),s=new Map,a=({address:o,chainId:c})=>`${o}.${c}`;return{async consume({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c}),f=this.get({address:o,chainId:c,client:i});this.increment({address:o,chainId:c});const l=await f;return await t.set({address:o,chainId:c},l),r.set(u,l),l},async increment({address:o,chainId:c}){const i=a({address:o,chainId:c}),u=n.get(i)??0;n.set(i,u+1)},async get({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c});let f=s.get(u);return f||(f=(async()=>{try{const d=await t.get({address:o,chainId:c,client:i}),p=r.get(u)??0;return p>0&&d<=p?p+1:(r.delete(u),d)}finally{this.reset({address:o,chainId:c})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:c}){const i=a({address:o,chainId:c});n.delete(i),s.delete(i)}}}function Rd(){return{async get(e){const{address:t,client:n}=e;return Sn(n,{address:t,blockTag:"pending"})},set(){}}}const $m=Cd({source:Rd()});function Nd(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const jr=Nd();function Md(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:o=t.onResponse,timeout:c=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:l}=i;try{const d=await uo(async({signal:h})=>{const m={...i,body:Array.isArray(r)?J(r.map(w=>({jsonrpc:"2.0",id:w.id??jr.take(),...w}))):J({jsonrpc:"2.0",id:r.id??jr.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:l||(c>0?h:null)},g=new Request(e,m),y=await a?.(g,m)??{...m,url:e};return await s(y.url??e,y)},{errorInstance:new Er({body:r,url:e}),timeout:c,signal:!0});o&&await o(d);let p;if(d.headers.get("Content-Type")?.startsWith("application/json"))p=await d.json();else{p=await d.text();try{p=JSON.parse(p||"{}")}catch(h){if(d.ok)throw h;p={error:p}}}if(!d.ok)throw new De({body:r,details:J(p.error)||d.statusText,headers:d.headers,status:d.status,url:e});return p}catch(d){throw d instanceof De||d instanceof Er?d:new De({body:r,cause:d,url:e})}}}}const ar=new Map;async function _d(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:a}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:c=5,delay:i=2e3}=typeof s=="object"?s:{},u=JSON.stringify({keepAlive:n,key:r,url:a,reconnect:s});let f=ar.get(u);if(f)return f;let l=0;const{schedule:d}=Ts({id:u,fn:async()=>{const m=new Map,g=new Map;let y,v,w,b=!1;function x(){if(s&&l<c){if(b)return;b=!0,l++,v?.close(),setTimeout(async()=>{await E().catch(console.error),b=!1},i)}else m.clear(),g.clear()}async function E(){const P=await t({onClose(){for(const I of m.values())I.onError?.(new dn({url:a}));for(const I of g.values())I.onError?.(new dn({url:a}));x()},onError(I){y=I;for(const R of m.values())R.onError?.(y);for(const R of g.values())R.onError?.(y);x()},onOpen(){y=void 0,l=0},onResponse(I){const R=I.method==="eth_subscription",B=R?I.params.subscription:I.id,$=R?g:m,k=$.get(B);k&&k.onResponse(I),R||$.delete(B)}});if(v=P,n&&(w&&clearInterval(w),w=setInterval(()=>v.ping?.(),o)),s&&g.size>0){const I=g.entries();for(const[R,{onResponse:B,body:$,onError:k}]of I)$&&(g.delete(R),f?.request({body:$,onResponse:B,onError:k}))}return P}return await E(),y=void 0,f={close(){w&&clearInterval(w),v.close(),ar.delete(u)},get socket(){return v},request({body:P,onError:I,onResponse:R}){y&&I&&I(y);const B=P.id??jr.take(),$=k=>{typeof k.id=="number"&&B!==k.id||(P.method==="eth_subscribe"&&typeof k.result=="string"&&g.set(k.result,{onResponse:$,onError:I,body:P}),P.method==="eth_unsubscribe"&&g.delete(P.params?.[0]),R(k))};m.set(B,{onResponse:$,onError:I});try{v.request({body:{jsonrpc:"2.0",id:B,...P}})}catch(k){I?.(k)}},requestAsync({body:P,timeout:I=1e4}){return uo(()=>new Promise((R,B)=>this.request({body:P,onError:B,onResponse:R})),{errorInstance:new Er({body:P,url:a}),timeout:I})},requests:m,subscriptions:g,url:a},ar.set(u,f),[f]}}),[p,[h]]=await d();return h}async function nn(e,t={}){const{keepAlive:n,reconnect:r}=t;return _d({async getSocket({onClose:s,onError:a,onOpen:o,onResponse:c}){const i=await ts(()=>import("./native-B8WyFf_Z.js"),[]).then(p=>p.WebSocket),u=new i(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",l),u.removeEventListener("error",a),u.removeEventListener("open",o),s()}function l({data:p}){if(!(typeof p=="string"&&p.trim().length===0))try{const h=JSON.parse(p);c(h)}catch(h){a(h)}}u.addEventListener("close",f),u.addEventListener("message",l),u.addEventListener("error",a),u.addEventListener("open",o),u.readyState===i.CONNECTING&&await new Promise((p,h)=>{u&&(u.onopen=p,u.onerror=h)});const{close:d}=u;return Object.assign(u,{close(){d.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ma({url:u.url,cause:new dn({url:u.url})});const p={jsonrpc:"2.0",id:null,method:"net_version",params:[]};u.send(JSON.stringify(p))}catch(p){a(p)}},request({body:p}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ma({body:p,url:u.url,cause:new dn({url:u.url})});return u.send(JSON.stringify(p))}})},keepAlive:n,reconnect:r,url:e})}async function zd(e){const t=await nn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const Fd=`Ethereum Signed Message:
`;function Od(e){const t=typeof e=="string"?Et(e):typeof e.raw=="string"?e.raw:ae(e.raw),n=Et(`${Fd}${$t(t)}`);return Ve([n,t])}function Ms(e,t){return Se(Od(e),t)}const qi="0x6492649264926492649264926492649264926492649264926492649264926492",km="0x0000000000000000000000000000000000000000000000000000000000000000";function Ld(e){return on(e,-32)===qi}class qd extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ud={checksum:new qd(8192)},or=Ud.checksum;function Ln(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Vc(q0(e));return n==="Bytes"?r:ce(r)}function Ui(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:a}=e;if(n===!1||typeof s=="bigint"&&typeof a=="bigint"){if(r!==4)throw new qa({prefix:r,cause:new Wd});return}if(n===!0||typeof s=="bigint"&&typeof a>"u"){if(r!==3&&r!==2)throw new qa({prefix:r,cause:new Vd});return}throw new Hd({publicKey:e})}function jd(e){const t=(()=>{if(ei(e))return ji(e);if(K0(e))return Dd(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return Ui(t),t}function Dd(e){return ji(ce(e))}function ji(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new Zd({publicKey:e});if(e.length===130){const r=BigInt(K(e,0,32)),s=BigInt(K(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(K(e,0,1)),s=BigInt(K(e,1,33)),a=BigInt(K(e,33,65));return{prefix:r,x:s,y:a}}const t=Number(K(e,0,1)),n=BigInt(K(e,1,33));return{prefix:t,x:n}}function Gd(e,t={}){Ui(e);const{prefix:n,x:r,y:s}=e,{includePrefix:a=!0}=t;return oe(a?H(n,{size:1}):"0x",H(r,{size:32}),typeof s=="bigint"?H(s,{size:32}):"0x")}class Hd extends L{constructor({publicKey:t}){super(`Value \`${Cn(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class qa extends L{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Vd extends L{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Wd extends L{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Zd=class extends L{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Q(vs(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Kd=/^0x[a-fA-F0-9]{40}$/;function jt(e,t={}){const{strict:n=!0}=t;if(!Kd.test(e))throw new Ua({address:e,cause:new Xd});if(n){if(e.toLowerCase()===e)return;if(_s(e)!==e)throw new Ua({address:e,cause:new Qd})}}function _s(e){if(or.has(e))return or.get(e);jt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ln(j0(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return or.set(e,s),s}function Yd(e,t={}){const{checksum:n=!1}=t;return jt(e),n?_s(e):e}function Jd(e,t={}){const n=Ln(`0x${Gd(e).slice(4)}`).substring(26);return Yd(`0x${n}`,t)}function Dr(e,t={}){const{strict:n=!0}=t??{};try{return jt(e,{strict:n}),!0}catch{return!1}}class Ua extends L{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Xd extends L{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Qd extends L{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const el=/^(.*)\[([0-9]*)\]$/,tl=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Di=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ja=2n**256n-1n;function ct(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=Os(t.type);if(a){const[o,c]=a;return rl(e,{...t,type:c},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return il(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return nl(e,{checksum:r});if(t.type==="bool")return sl(e);if(t.type.startsWith("bytes"))return al(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ol(e,t);if(t.type==="string")return cl(e,{staticPosition:s});throw new Ls(t.type)}const Da=32,Gr=32;function nl(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(a=>n?_s(a):a)(ce(G0(r,-20))),32]}function rl(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const i=Ae(e.readBytes(Gr)),u=a+i,f=u+Da;e.setPosition(u);const l=Ae(e.readBytes(Da)),d=At(t);let p=0;const h=[];for(let m=0;m<l;++m){e.setPosition(f+(d?m*32:p));const[g,y]=ct(e,t,{checksumAddress:r,staticPosition:f});p+=y,h.push(g)}return e.setPosition(a+32),[h,32]}if(At(t)){const i=Ae(e.readBytes(Gr)),u=a+i,f=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[d]=ct(e,t,{checksumAddress:r,staticPosition:u});f.push(d)}return e.setPosition(a+32),[f,32]}let o=0;const c=[];for(let i=0;i<s;++i){const[u,f]=ct(e,t,{checksumAddress:r,staticPosition:a+o});o+=f,c.push(u)}return[c,o]}function sl(e){return[V0(e.readBytes(32),{size:32}),32]}function al(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Ae(e.readBytes(32));e.setPosition(n+o);const c=Ae(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const i=e.readBytes(c);return e.setPosition(n+32),[ce(i),32]}return[ce(e.readBytes(Number.parseInt(s,10),32)),32]}function ol(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?H0(s,{signed:n}):Ae(s,{signed:n}),32]}function il(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=t.components.length===0||t.components.some(({name:i})=>!i),o=a?[]:{};let c=0;if(At(t)){const i=Ae(e.readBytes(Gr)),u=s+i;for(let f=0;f<t.components.length;++f){const l=t.components[f];e.setPosition(u+c);const[d,p]=ct(e,l,{checksumAddress:r,staticPosition:u});c+=p,o[a?f:l?.name]=d}return e.setPosition(s+32),[o,32]}for(let i=0;i<t.components.length;++i){const u=t.components[i],[f,l]=ct(e,u,{checksumAddress:r,staticPosition:s});o[a?i:u?.name]=f,c+=l}return[o,c]}function cl(e,{staticPosition:t}){const n=Ae(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ae(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=W0(Yo(a));return e.setPosition(t+32),[o,32]}function ul({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(zs({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function zs({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Os(r.type);if(s){const[a,o]=s;return dl(n,{checksumAddress:e,length:a,parameter:{...r,type:o}})}if(r.type==="tuple")return bl(n,{checksumAddress:e,parameter:r});if(r.type==="address")return fl(n,{checksum:e});if(r.type==="bool")return pl(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,o="256"]=Di.exec(r.type)??[];return ml(n,{signed:a,size:Number(o)})}if(r.type.startsWith("bytes"))return ll(n,{type:r.type});if(r.type==="string")return hl(n);throw new Ls(r.type)}function Fs(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?t+=32:t+=Q(c)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?(n.push(H(t+s,{size:32})),r.push(c),s+=Q(c)):n.push(c)}return oe(...n,...r)}function fl(e,t){const{checksum:n=!1}=t;return jt(e,{strict:n}),{dynamic:!1,encoded:Ye(e.toLowerCase())}}function dl(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new Il(e);if(!a&&e.length!==r)throw new Pl({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const c=[];for(let i=0;i<e.length;i++){const u=zs({checksumAddress:n,parameter:s,value:e[i]});u.dynamic&&(o=!0),c.push(u)}if(a||o){const i=Fs(c);if(a){const u=H(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?oe(u,i):u}}if(o)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:oe(...c.map(({encoded:i})=>i))}}function ll(e,{type:t}){const[,n]=t.split("bytes"),r=Q(e);if(!n){let s=e;return r%32!==0&&(s=Je(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:oe(Ye(H(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Vi({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Je(e)}}function pl(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ye(Jo(e))}}function ml(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new ti({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:H(e,{size:32,signed:t})}}function hl(e){const t=Es(e),n=Math.ceil(Q(t)/32),r=[];for(let s=0;s<n;s++)r.push(Je(K(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:oe(Je(H(Q(t),{size:32})),...r)}}function bl(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let o=0;o<r.components.length;o++){const c=r.components[o],i=Array.isArray(e)?o:c.name,u=zs({checksumAddress:n,parameter:c,value:e[i]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Fs(a):oe(...a.map(({encoded:o})=>o))}}function Os(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function At(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(At);const n=Os(e.type);return!!(n&&At({...e,type:n[1]}))}const yl={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new wl({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new gl({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ga({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ga({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Gi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(yl);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Ga extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class gl extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class wl extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function xl(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof t=="string"?xs(t):t,o=Gi(a);if(at(a)===0&&e.length>0)throw new El;if(at(a)&&at(a)<32)throw new vl({data:typeof t=="string"?t:ce(t),parameters:e,size:at(a)});let c=0;const i=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(c);const[l,d]=ct(o,f,{checksumAddress:s,staticPosition:0});c+=d,r==="Array"?i.push(l):i[f.name??u]=l}return i}function qn(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Wi({expectedLength:e.length,givenLength:t.length});const s=ul({checksumAddress:r,parameters:e,values:t}),a=Fs(s);return a.length===0?"0x":a}function Hr(e,t){if(e.length!==t.length)throw new Wi({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Hr.encode(s,a))}return oe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const i=r;return jt(i),Ye(i.toLowerCase(),s?32:0)}if(n==="string")return Es(r);if(n==="bytes")return r;if(n==="bool")return Ye(Jo(r),s?32:1);const a=n.match(Di);if(a){const[i,u,f="256"]=a,l=Number.parseInt(f,10)/8;return H(r,{size:s?32:l,signed:u==="int"})}const o=n.match(tl);if(o){const[i,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Vi({expectedSize:Number.parseInt(u,10),value:r});return Je(r,s?32:0)}const c=n.match(el);if(c&&Array.isArray(r)){const[i,u]=c,f=[];for(let l=0;l<r.length;l++)f.push(t(u,r[l],!0));return f.length===0?"0x":oe(...f)}throw new Ls(n)}e.encode=t})(Hr||(Hr={}));function Hi(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ba(e):e}class vl extends L{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Wc(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class El extends L{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Pl extends L{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Vi extends L{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Q(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Wi extends L{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Il extends L{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Ls extends L{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Tl(e,t){const{as:n}=t,r=Zi(e),s=Gi(new Uint8Array(r.length));return r.encode(s),n==="Hex"?ce(s.bytes):s.bytes}function Al(e,t={}){const{as:n="Hex"}=t;return Tl(e,{as:n})}function Zi(e){return Array.isArray(e)?Sl(e.map(t=>Zi(t))):Bl(e)}function Sl(e){const t=e.reduce((s,a)=>s+a.length,0),n=Ki(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:a}of e)a(s)}}}function Bl(e){const t=typeof e=="string"?xs(e):e,n=Ki(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Ki(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new L("Length is too large.")}class Yi extends Zc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Kc(t);const r=Yc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=t.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),br(a)}update(t){return Ks(this),this.iHash.update(t),this}digestInto(t){Ks(this),Jc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ji=(e,t,n)=>new Yi(e,t).update(n).digest();Ji.create=(e,t)=>new Yi(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const re=BigInt(0),X=BigInt(1),je=BigInt(2),$l=BigInt(3),Xi=BigInt(4),Qi=BigInt(5),ec=BigInt(8);function ne(e,t){const n=e%t;return n>=re?n:t+n}function fe(e,t,n){let r=e;for(;t-- >re;)r*=r,r%=n;return r}function Vr(e,t){if(e===re)throw new Error("invert: expected non-zero number");if(t<=re)throw new Error("invert: expected positive modulus, got "+t);let n=ne(e,t),r=t,s=re,a=X;for(;n!==re;){const c=r/n,i=r%n,u=s-a*c;r=n,n=i,s=a,a=u}if(r!==X)throw new Error("invert: does not exist");return ne(s,t)}function tc(e,t){const n=(e.ORDER+X)/Xi,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function kl(e,t){const n=(e.ORDER-Qi)/ec,r=e.mul(t,je),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,je),s),c=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function Cl(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-X,n=0;for(;t%je===re;)t/=je,n++;let r=je;const s=qs(e);for(;Ha(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return tc;let a=s.pow(r,t);const o=(t+X)/je;return function(i,u){if(i.is0(u))return u;if(Ha(i,u)!==1)throw new Error("Cannot find square root");let f=n,l=i.mul(i.ONE,a),d=i.pow(u,t),p=i.pow(u,o);for(;!i.eql(d,i.ONE);){if(i.is0(d))return i.ZERO;let h=1,m=i.sqr(d);for(;!i.eql(m,i.ONE);)if(h++,m=i.sqr(m),h===f)throw new Error("Cannot find square root");const g=X<<BigInt(f-h-1),y=i.pow(l,g);f=h,l=i.sqr(y),d=i.mul(d,l),p=i.mul(p,y)}return p}}function Rl(e){return e%Xi===$l?tc:e%ec===Qi?kl:Cl(e)}const Nl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ml(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Nl.reduce((r,s)=>(r[s]="function",r),t);return $n(e,n)}function _l(e,t,n){if(n<re)throw new Error("invalid exponent, negatives unsupported");if(n===re)return e.ONE;if(n===X)return t;let r=e.ONE,s=t;for(;n>re;)n&X&&(r=e.mul(r,s)),s=e.sqr(s),n>>=X;return r}function nc(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,c,i)=>e.is0(c)?o:(r[i]=o,e.mul(o,c)),e.ONE),a=e.inv(s);return t.reduceRight((o,c,i)=>e.is0(c)?o:(r[i]=e.mul(o,r[i]),e.mul(o,c)),a),r}function Ha(e,t){const n=(e.ORDER-X)/je,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function rc(e,t){t!==void 0&&Xc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function qs(e,t,n=!1,r={}){if(e<=re)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=rc(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:Bn(s),ZERO:re,ONE:X,create:i=>ne(i,e),isValid:i=>{if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return re<=i&&i<e},is0:i=>i===re,isOdd:i=>(i&X)===X,neg:i=>ne(-i,e),eql:(i,u)=>i===u,sqr:i=>ne(i*i,e),add:(i,u)=>ne(i+u,e),sub:(i,u)=>ne(i-u,e),mul:(i,u)=>ne(i*u,e),pow:(i,u)=>_l(c,i,u),div:(i,u)=>ne(i*Vr(u,e),e),sqrN:i=>i*i,addN:(i,u)=>i+u,subN:(i,u)=>i-u,mulN:(i,u)=>i*u,inv:i=>Vr(i,e),sqrt:r.sqrt||(i=>(o||(o=Rl(e)),o(c,i))),toBytes:i=>n?Vo(i,a):zt(i,a),fromBytes:i=>{if(i.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+i.length);return n?Ho(i):Ge(i)},invertBatch:i=>nc(c,i),cmov:(i,u,f)=>f?u:i});return Object.freeze(c)}function sc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ac(e){const t=sc(e);return t+Math.ceil(t/2)}function zl(e,t,n=!1){const r=e.length,s=sc(t),a=ac(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=n?Ho(e):Ge(e),c=ne(o,t-X)+X;return n?Vo(c,s):zt(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Va=BigInt(0),Wr=BigInt(1);function ir(e,t){const n=t.negate();return e?n:t}function oc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function cr(e,t){oc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=Bn(e),o=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:o}}function Wa(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let c=Number(e&s),i=e>>o;c>r&&(c-=a,i+=Wr);const u=t*r,f=u+Math.abs(c)-1,l=c===0,d=c<0,p=t%2!==0;return{nextN:i,offset:f,isZero:l,isNeg:d,isNegF:p,offsetF:u}}function Fl(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ol(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ur=new WeakMap,ic=new WeakMap;function fr(e){return ic.get(e)||1}function Ll(e,t){return{constTimeNegate:ir,hasPrecomputes(n){return fr(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>Va;)r&Wr&&(s=s.add(a)),a=a.double(),r>>=Wr;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=cr(r,t),o=[];let c=n,i=c;for(let u=0;u<s;u++){i=c,o.push(i);for(let f=1;f<a;f++)i=i.add(c),o.push(i);c=i.double()}return o},wNAF(n,r,s){let a=e.ZERO,o=e.BASE;const c=cr(n,t);for(let i=0;i<c.windows;i++){const{nextN:u,offset:f,isZero:l,isNeg:d,isNegF:p,offsetF:h}=Wa(s,i,c);s=u,l?o=o.add(ir(p,r[h])):a=a.add(ir(d,r[f]))}return{p:a,f:o}},wNAFUnsafe(n,r,s,a=e.ZERO){const o=cr(n,t);for(let c=0;c<o.windows&&s!==Va;c++){const{nextN:i,offset:u,isZero:f,isNeg:l}=Wa(s,c,o);if(s=i,!f){const d=r[u];a=a.add(l?d.negate():d)}}return a},getPrecomputes(n,r,s){let a=ur.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&ur.set(r,s(a))),a},wNAFCached(n,r,s){const a=fr(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const o=fr(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,a)},setWindowSize(n,r){oc(r,t),ic.set(n,r),ur.delete(n)}}}function ql(e,t,n,r){Fl(n,e),Ol(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,c=S0(BigInt(s));let i=1;c>12?i=c-3:c>4?i=c-2:c>0&&(i=2);const u=Bn(i),f=new Array(Number(u)+1).fill(o),l=Math.floor((t.BITS-1)/i)*i;let d=o;for(let p=l;p>=0;p-=i){f.fill(o);for(let m=0;m<a;m++){const g=r[m],y=Number(g>>BigInt(p)&u);f[y]=f[y].add(n[m])}let h=o;for(let m=f.length-1,g=o;m>0;m--)g=g.add(f[m]),h=h.add(g);if(d=d.add(h),p!==0)for(let m=0;m<i;m++)d=d.double()}return d}function cc(e){return Ml(e.Fp),$n(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Za(e){e.lowS!==void 0&&It("lowS",e.lowS),e.prehash!==void 0&&It("prehash",e.prehash)}function Ul(e){const t=cc(e);$n(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class jl extends Error{constructor(t=""){super(t)}}const Ie={Err:jl,_tlv:{encode:(e,t)=>{const{Err:n}=Ie;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Vt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Vt(s.length/2|128):"";return Vt(e)+a+s+t},decode(e,t){const{Err:n}=Ie;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let o=0;if(!a)o=s;else{const i=s&127;if(!i)throw new n("tlv.decode(long): indefinite length not supported");if(i>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+i);if(u.length!==i)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=i,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ie;if(e<Te)throw new t("integer: negative integers are not allowed");let n=Vt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ie;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ge(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ie,s=de("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:i}=r.decode(2,a),{v:u,l:f}=r.decode(2,i);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ie,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}};function dr(e,t){return Tt(zt(e,t))}const Te=BigInt(0),Z=BigInt(1);BigInt(2);const lr=BigInt(3),Dl=BigInt(4);function Gl(e){const t=Ul(e),{Fp:n}=t,r=qs(t.n,t.nBitLength),s=t.toBytes||((w,b,x)=>{const E=b.toAffine();return mn(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),a=t.fromBytes||(w=>{const b=w.subarray(1),x=n.fromBytes(b.subarray(0,n.BYTES)),E=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x,y:E}});function o(w){const{a:b,b:x}=t,E=n.sqr(w),P=n.mul(E,w);return n.add(n.add(P,n.mul(w,b)),x)}function c(w,b){const x=n.sqr(b),E=o(w);return n.eql(x,E)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const i=n.mul(n.pow(t.a,lr),Dl),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(i,u)))throw new Error("bad curve params: a or b");function f(w){return ws(w,Z,t.n)}function l(w){const{allowedPrivateKeyLengths:b,nByteLength:x,wrapPrivateKey:E,n:P}=t;if(b&&typeof w!="bigint"){if(_t(w)&&(w=Tt(w)),typeof w!="string"||!b.includes(w.length))throw new Error("invalid private key");w=w.padStart(x*2,"0")}let I;try{I=typeof w=="bigint"?w:Ge(de("private key",w,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof w)}return E&&(I=ne(I,P)),it("private key",I,Z,P),I}function d(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const p=Aa((w,b)=>{const{px:x,py:E,pz:P}=w;if(n.eql(P,n.ONE))return{x,y:E};const I=w.is0();b==null&&(b=I?n.ONE:n.inv(P));const R=n.mul(x,b),B=n.mul(E,b),$=n.mul(P,b);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:R,y:B}}),h=Aa(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:b,y:x}=w.toAffine();if(!n.isValid(b)||!n.isValid(x))throw new Error("bad point: x or y not FE");if(!c(b,x))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,x,E){if(b==null||!n.isValid(b))throw new Error("x required");if(x==null||!n.isValid(x)||n.is0(x))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=b,this.py=x,this.pz=E,Object.freeze(this)}static fromAffine(b){const{x,y:E}=b||{};if(!b||!n.isValid(x)||!n.isValid(E))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const P=I=>n.eql(I,n.ZERO);return P(x)&&P(E)?m.ZERO:new m(x,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const x=nc(n,b.map(E=>E.pz));return b.map((E,P)=>E.toAffine(x[P])).map(m.fromAffine)}static fromHex(b){const x=m.fromAffine(a(de("pointHex",b)));return x.assertValidity(),x}static fromPrivateKey(b){return m.BASE.multiply(l(b))}static msm(b,x){return ql(m,r,b,x)}_setWindowSize(b){v.setWindowSize(this,b)}assertValidity(){h(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){d(b);const{px:x,py:E,pz:P}=this,{px:I,py:R,pz:B}=b,$=n.eql(n.mul(x,B),n.mul(I,P)),k=n.eql(n.mul(E,B),n.mul(R,P));return $&&k}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:x}=t,E=n.mul(x,lr),{px:P,py:I,pz:R}=this;let B=n.ZERO,$=n.ZERO,k=n.ZERO,z=n.mul(P,P),U=n.mul(I,I),S=n.mul(R,R),A=n.mul(P,I);return A=n.add(A,A),k=n.mul(P,R),k=n.add(k,k),B=n.mul(b,k),$=n.mul(E,S),$=n.add(B,$),B=n.sub(U,$),$=n.add(U,$),$=n.mul(B,$),B=n.mul(A,B),k=n.mul(E,k),S=n.mul(b,S),A=n.sub(z,S),A=n.mul(b,A),A=n.add(A,k),k=n.add(z,z),z=n.add(k,z),z=n.add(z,S),z=n.mul(z,A),$=n.add($,z),S=n.mul(I,R),S=n.add(S,S),z=n.mul(S,A),B=n.sub(B,z),k=n.mul(S,U),k=n.add(k,k),k=n.add(k,k),new m(B,$,k)}add(b){d(b);const{px:x,py:E,pz:P}=this,{px:I,py:R,pz:B}=b;let $=n.ZERO,k=n.ZERO,z=n.ZERO;const U=t.a,S=n.mul(t.b,lr);let A=n.mul(x,I),_=n.mul(E,R),C=n.mul(P,B),F=n.add(x,E),O=n.add(I,R);F=n.mul(F,O),O=n.add(A,_),F=n.sub(F,O),O=n.add(x,P);let D=n.add(I,B);return O=n.mul(O,D),D=n.add(A,C),O=n.sub(O,D),D=n.add(E,P),$=n.add(R,B),D=n.mul(D,$),$=n.add(_,C),D=n.sub(D,$),z=n.mul(U,O),$=n.mul(S,C),z=n.add($,z),$=n.sub(_,z),z=n.add(_,z),k=n.mul($,z),_=n.add(A,A),_=n.add(_,A),C=n.mul(U,C),O=n.mul(S,O),_=n.add(_,C),C=n.sub(A,C),C=n.mul(U,C),O=n.add(O,C),A=n.mul(_,O),k=n.add(k,A),A=n.mul(D,O),$=n.mul(F,$),$=n.sub($,A),A=n.mul(F,_),z=n.mul(D,z),z=n.add(z,A),new m($,k,z)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return v.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:x,n:E}=t;it("scalar",b,Te,E);const P=m.ZERO;if(b===Te)return P;if(this.is0()||b===Z)return this;if(!x||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:I,k1:R,k2neg:B,k2:$}=x.splitScalar(b),k=P,z=P,U=this;for(;R>Te||$>Te;)R&Z&&(k=k.add(U)),$&Z&&(z=z.add(U)),U=U.double(),R>>=Z,$>>=Z;return I&&(k=k.negate()),B&&(z=z.negate()),z=new m(n.mul(z.px,x.beta),z.py,z.pz),k.add(z)}multiply(b){const{endo:x,n:E}=t;it("scalar",b,Z,E);let P,I;if(x){const{k1neg:R,k1:B,k2neg:$,k2:k}=x.splitScalar(b);let{p:z,f:U}=this.wNAF(B),{p:S,f:A}=this.wNAF(k);z=v.constTimeNegate(R,z),S=v.constTimeNegate($,S),S=new m(n.mul(S.px,x.beta),S.py,S.pz),P=z.add(S),I=U.add(A)}else{const{p:R,f:B}=this.wNAF(b);P=R,I=B}return m.normalizeZ([P,I])[0]}multiplyAndAddUnsafe(b,x,E){const P=m.BASE,I=(B,$)=>$===Te||$===Z||!B.equals(P)?B.multiplyUnsafe($):B.multiply($),R=I(this,x).add(I(b,E));return R.is0()?void 0:R}toAffine(b){return p(this,b)}isTorsionFree(){const{h:b,isTorsionFree:x}=t;if(b===Z)return!0;if(x)return x(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:x}=t;return b===Z?this:x?x(m,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return It("isCompressed",b),this.assertValidity(),s(m,this,b)}toHex(b=!0){return It("isCompressed",b),Tt(this.toRawBytes(b))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:y}=t,v=Ll(m,g?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:f}}function Hl(e){const t=cc(e);return $n(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Vl(e){const t=Hl(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,o=n.BYTES+1,c=2*n.BYTES+1;function i(S){return ne(S,r)}function u(S){return Vr(S,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:p}=Gl({...t,toBytes(S,A,_){const C=A.toAffine(),F=n.toBytes(C.x),O=mn;return It("isCompressed",_),_?O(Uint8Array.from([A.hasEvenY()?2:3]),F):O(Uint8Array.from([4]),F,n.toBytes(C.y))},fromBytes(S){const A=S.length,_=S[0],C=S.subarray(1);if(A===o&&(_===2||_===3)){const F=Ge(C);if(!ws(F,Z,n.ORDER))throw new Error("Point is not on curve");const O=d(F);let D;try{D=n.sqrt(O)}catch(te){const Y=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+Y)}const G=(D&Z)===Z;return(_&1)===1!==G&&(D=n.neg(D)),{x:F,y:D}}else if(A===c&&_===4){const F=n.fromBytes(C.subarray(0,n.BYTES)),O=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:F,y:O}}else{const F=o,O=c;throw new Error("invalid Point, expected length of "+F+", or uncompressed "+O+", got "+A)}}});function h(S){const A=r>>Z;return S>A}function m(S){return h(S)?i(-S):S}const g=(S,A,_)=>Ge(S.slice(A,_));class y{constructor(A,_,C){it("r",A,Z,r),it("s",_,Z,r),this.r=A,this.s=_,C!=null&&(this.recovery=C),Object.freeze(this)}static fromCompact(A){const _=s;return A=de("compactSignature",A,_*2),new y(g(A,0,_),g(A,_,2*_))}static fromDER(A){const{r:_,s:C}=Ie.toSig(de("DER",A));return new y(_,C)}assertValidity(){}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){const{r:_,s:C,recovery:F}=this,O=P(de("msgHash",A));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const D=F===2||F===3?_+t.n:_;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=F&1?"03":"02",he=f.fromHex(G+dr(D,n.BYTES)),te=u(D),Y=i(-O*te),tt=i(C*te),ke=f.BASE.multiplyAndAddUnsafe(he,Y,tt);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return pn(this.toDERHex())}toDERHex(){return Ie.hexFromSig(this)}toCompactRawBytes(){return pn(this.toCompactHex())}toCompactHex(){const A=s;return dr(this.r,A)+dr(this.s,A)}}const v={isValidPrivateKey(S){try{return l(S),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const S=ac(t.n);return zl(t.randomBytes(S),t.n)},precompute(S=8,A=f.BASE){return A._setWindowSize(S),A.multiply(BigInt(3)),A}};function w(S,A=!0){return f.fromPrivateKey(S).toRawBytes(A)}function b(S){if(typeof S=="bigint")return!1;if(S instanceof f)return!0;const _=de("key",S).length,C=n.BYTES,F=C+1,O=2*C+1;if(!(t.allowedPrivateKeyLengths||s===F))return _===F||_===O}function x(S,A,_=!0){if(b(S)===!0)throw new Error("first arg must be private key");if(b(A)===!1)throw new Error("second arg must be public key");return f.fromHex(A).multiply(l(S)).toRawBytes(_)}const E=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const A=Ge(S),_=S.length*8-a;return _>0?A>>BigInt(_):A},P=t.bits2int_modN||function(S){return i(E(S))},I=Bn(a);function R(S){return it("num < 2^"+a,S,Te,I),zt(S,s)}function B(S,A,_=$){if(["recovered","canonical"].some(Le=>Le in _))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:F}=t;let{lowS:O,prehash:D,extraEntropy:G}=_;O==null&&(O=!0),S=de("msgHash",S),Za(_),D&&(S=de("prehashed msgHash",C(S)));const he=P(S),te=l(A),Y=[R(te),R(he)];if(G!=null&&G!==!1){const Le=G===!0?F(n.BYTES):G;Y.push(de("extraEntropy",Le))}const tt=mn(...Y),ke=he;function Vn(Le){const nt=E(Le);if(!p(nt))return;const Wn=u(nt),wt=f.BASE.multiply(nt).toAffine(),qe=i(wt.x);if(qe===Te)return;const xt=i(Wn*i(ke+qe*te));if(xt===Te)return;let rt=(wt.x===qe?0:2)|Number(wt.y&Z),Vs=xt;return O&&h(xt)&&(Vs=m(xt),rt^=1),new y(qe,Vs,rt)}return{seed:tt,k2sig:Vn}}const $={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function z(S,A,_=$){const{seed:C,k2sig:F}=B(S,A,_),O=t;return B0(O.hash.outputLen,O.nByteLength,O.hmac)(C,F)}f.BASE._setWindowSize(8);function U(S,A,_,C=k){const F=S;A=de("msgHash",A),_=de("publicKey",_);const{lowS:O,prehash:D,format:G}=C;if(Za(C),"strict"in C)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const he=typeof F=="string"||_t(F),te=!he&&!G&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!he&&!te)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,tt;try{if(te&&(Y=new y(F.r,F.s)),he){try{G!=="compact"&&(Y=y.fromDER(F))}catch(rt){if(!(rt instanceof Ie.Err))throw rt}!Y&&G!=="der"&&(Y=y.fromCompact(F))}tt=f.fromHex(_)}catch{return!1}if(!Y||O&&Y.hasHighS())return!1;D&&(A=t.hash(A));const{r:ke,s:Vn}=Y,Le=P(A),nt=u(Vn),Wn=i(Le*nt),wt=i(ke*nt),qe=f.BASE.multiplyAndAddUnsafe(tt,Wn,wt)?.toAffine();return qe?i(qe.x)===ke:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:x,sign:z,verify:U,ProjectivePoint:f,Signature:y,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wl(e){return{hash:e,hmac:(t,...n)=>Ji(e,t,eu(...n)),randomBytes:Qc}}function Zl(e,t){const n=r=>Vl({...e,...Wl(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ka=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Kl=BigInt(0),Yl=BigInt(1),Zr=BigInt(2),Ya=(e,t)=>(e+t/Zr)/t;function Jl(e){const t=uc,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),c=BigInt(44),i=BigInt(88),u=e*e*e%t,f=u*u*e%t,l=fe(f,n,t)*f%t,d=fe(l,n,t)*f%t,p=fe(d,Zr,t)*u%t,h=fe(p,s,t)*p%t,m=fe(h,a,t)*h%t,g=fe(m,c,t)*m%t,y=fe(g,i,t)*g%t,v=fe(y,c,t)*m%t,w=fe(v,n,t)*f%t,b=fe(w,o,t)*h%t,x=fe(b,r,t)*u%t,E=fe(x,Zr,t);if(!Kr.eql(Kr.sqr(E),e))throw new Error("Cannot find square root");return E}const Kr=qs(uc,void 0,void 0,{sqrt:Jl}),gt=Zl({a:Kl,b:BigInt(7),Fp:Kr,n:Ka,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ka,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),c=Ya(a*e,t),i=Ya(-r*e,t);let u=ne(e-c*n-i*s,t),f=ne(-c*r-i*a,t);const l=u>o,d=f>o;if(l&&(u=t-u),d&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:d,k2:f}}}},fu),Xl=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:gt},Symbol.toStringTag,{value:"Module"}));function fc(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new pr({signature:e});if(typeof e.s>"u")throw new pr({signature:e});if(n&&typeof e.yParity>"u")throw new pr({signature:e});if(e.r<0n||e.r>ja)throw new sp({value:e.r});if(e.s<0n||e.s>ja)throw new ap({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new js({value:e.yParity})}function Ql(e){return dc(ce(e))}function dc(e){if(e.length!==130&&e.length!==132)throw new rp({signature:e});const t=BigInt(K(e,0,32)),n=BigInt(K(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Us(s)}catch{throw new js({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function lc(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return pc(e)}function pc(e){const t=typeof e=="string"?dc(e):e instanceof Uint8Array?Ql(e):typeof e.r=="string"?tp(e):e.v?ep(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return fc(t),t}function ep(e){return{r:e.r,s:e.s,yParity:Us(e.v)}}function tp(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Us(n)),typeof r!="number")throw new js({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function np(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":Ba(H(t)),n===0n?"0x":Ba(H(n))]}function Us(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new op({value:e})}class rp extends L{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Q(vs(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class pr extends L{constructor({signature:t}){super(`Signature \`${Cn(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class sp extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class ap extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class js extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class op extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function ip(e,t={}){return typeof e.chainId=="string"?cp(e):{...e,...t.signature}}function cp(e){const{address:t,chainId:n,nonce:r}=e,s=lc(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}function up(e){return fp(e,{presign:!0})}function fp(e,t={}){const{presign:n}=t;return Ln(oe("0x05",Al(dp(n?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function dp(e){const{address:t,chainId:n,nonce:r}=e,s=lc(e);return[n?H(n):"0x",t,r?H(r):"0x",...s?np(s):[]]}function lp(e){return Jd(pp(e))}function pp(e){const{payload:t,signature:n}=e,{r,s,yParity:a}=n,c=new gt.Signature(BigInt(r),BigInt(s)).addRecoveryBit(a).recoverPublicKey(vs(t).substring(2));return jd(c)}const mc="0x8010801080108010801080108010801080108010801080108010801080108010",hc=Hi("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Ds(e){if(typeof e=="string"){if(K(e,-32)!==mc)throw new hp(e)}else fc(e.authorization)}function bc(e){Ds(e);const t=Qo(K(e,-64,-32)),n=K(e,-t-64,-64),r=K(e,0,-t-64),[s,a,o]=xl(hc,n);return{authorization:ip({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:a}:{}}}function mp(e){const{data:t,signature:n}=e;Ds(e);const r=lp({payload:up(e.authorization),signature:pc(e.authorization)}),s=qn(hc,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??r,t??"0x"]),a=H(Q(s),{size:32});return oe(n,s,a,mc)}function yc(e){try{return Ds(e),!0}catch{return!1}}let hp=class extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function bp(e){return yc(e)}function Nm(e){if(!Ld(e))return{signature:e};const[t,n,r]=wn([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function Mm(e){if(!bp(e))return{signature:e};const{authorization:t,to:n,...r}=bc(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:T(t.r,{size:32}),s:T(t.s,{size:32}),yParity:t.yParity},...n?{address:n}:{},...r}}async function yp({message:e,signature:t}){return mt({hash:Ms(e),signature:t})}async function gp(e){const{domain:t,message:n,primaryType:r,signature:s,types:a}=e;return mt({hash:fo({domain:t,message:n,primaryType:r,types:a}),signature:s})}function _m(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=me([lt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),qi]);return s==="hex"?a:le(a)}function zm(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=mp({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:n,signature:r,to:t});return s==="hex"?a:le(a)}async function Fm({address:e,hash:t,signature:n}){return ze(ve(e),await mt({hash:t,signature:n}))}async function Om({address:e,message:t,signature:n}){return ze(ve(e),await yp({message:t,signature:n}))}async function Lm(e){const{address:t,domain:n,message:r,primaryType:s,signature:a,types:o}=e;return ze(ve(t),await gp({domain:n,message:r,primaryType:s,signature:a,types:o}))}function wp(e){const t=on(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&V(t)>=192)return"legacy";throw new a0({serializedType:t})}function xp(e){const t=wp(e);return t==="eip1559"?Pp(e):t==="eip2930"?Ip(e):t==="eip4844"?Ep(e):t==="eip7702"?vp(e):Tp(e)}function vp(e){const t=Un(e),[n,r,s,a,o,c,i,u,f,l,d,p,h]=t;if(t.length!==10&&t.length!==13)throw new Rt({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:c,value:i,data:u,accessList:f,authorizationList:l,...t.length>9?{v:d,r:p,s:h}:{}},serializedTransaction:e,type:"eip7702"});const m={chainId:V(n),type:"eip7702"};return q(c)&&c!=="0x"&&(m.to=c),q(o)&&o!=="0x"&&(m.gas=j(o)),q(u)&&u!=="0x"&&(m.data=u),q(r)&&(m.nonce=r==="0x"?0:V(r)),q(i)&&i!=="0x"&&(m.value=j(i)),q(a)&&a!=="0x"&&(m.maxFeePerGas=j(a)),q(s)&&s!=="0x"&&(m.maxPriorityFeePerGas=j(s)),f.length!==0&&f!=="0x"&&(m.accessList=jn(f)),l.length!==0&&l!=="0x"&&(m.authorizationList=Ap(l)),Si(m),{...t.length===13?Dt(t):void 0,...m}}function Ep(e){const t=Un(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[a,o,c,i,u,f,l,d,p,h,m,g,y,v]=r,[w,b,x]=s;if(!(r.length===11||r.length===14))throw new Rt({attributes:{chainId:a,nonce:o,maxPriorityFeePerGas:c,maxFeePerGas:i,gas:u,to:f,value:l,data:d,accessList:p,...r.length>9?{v:g,r:y,s:v}:{}},serializedTransaction:e,type:"eip4844"});const E={blobVersionedHashes:m,chainId:V(a),to:f,type:"eip4844"};return q(u)&&u!=="0x"&&(E.gas=j(u)),q(d)&&d!=="0x"&&(E.data=d),q(o)&&(E.nonce=o==="0x"?0:V(o)),q(l)&&l!=="0x"&&(E.value=j(l)),q(h)&&h!=="0x"&&(E.maxFeePerBlobGas=j(h)),q(i)&&i!=="0x"&&(E.maxFeePerGas=j(i)),q(c)&&c!=="0x"&&(E.maxPriorityFeePerGas=j(c)),p.length!==0&&p!=="0x"&&(E.accessList=jn(p)),w&&b&&x&&(E.sidecars=ls({blobs:w,commitments:b,proofs:x})),Bi(E),{...r.length===14?Dt(r):void 0,...E}}function Pp(e){const t=Un(e),[n,r,s,a,o,c,i,u,f,l,d,p]=t;if(!(t.length===9||t.length===12))throw new Rt({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:c,value:i,data:u,accessList:f,...t.length>9?{v:l,r:d,s:p}:{}},serializedTransaction:e,type:"eip1559"});const h={chainId:V(n),type:"eip1559"};return q(c)&&c!=="0x"&&(h.to=c),q(o)&&o!=="0x"&&(h.gas=j(o)),q(u)&&u!=="0x"&&(h.data=u),q(r)&&(h.nonce=r==="0x"?0:V(r)),q(i)&&i!=="0x"&&(h.value=j(i)),q(a)&&a!=="0x"&&(h.maxFeePerGas=j(a)),q(s)&&s!=="0x"&&(h.maxPriorityFeePerGas=j(s)),f.length!==0&&f!=="0x"&&(h.accessList=jn(f)),Fn(h),{...t.length===12?Dt(t):void 0,...h}}function Ip(e){const t=Un(e),[n,r,s,a,o,c,i,u,f,l,d]=t;if(!(t.length===8||t.length===11))throw new Rt({attributes:{chainId:n,nonce:r,gasPrice:s,gas:a,to:o,value:c,data:i,accessList:u,...t.length>8?{v:f,r:l,s:d}:{}},serializedTransaction:e,type:"eip2930"});const p={chainId:V(n),type:"eip2930"};return q(o)&&o!=="0x"&&(p.to=o),q(a)&&a!=="0x"&&(p.gas=j(a)),q(i)&&i!=="0x"&&(p.data=i),q(r)&&(p.nonce=r==="0x"?0:V(r)),q(c)&&c!=="0x"&&(p.value=j(c)),q(s)&&s!=="0x"&&(p.gasPrice=j(s)),u.length!==0&&u!=="0x"&&(p.accessList=jn(u)),$i(p),{...t.length===11?Dt(t):void 0,...p}}function Tp(e){const t=Ni(e,"hex"),[n,r,s,a,o,c,i,u,f]=t;if(!(t.length===6||t.length===9))throw new Rt({attributes:{nonce:n,gasPrice:r,gas:s,to:a,value:o,data:c,...t.length>6?{v:i,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const l={type:"legacy"};if(q(a)&&a!=="0x"&&(l.to=a),q(s)&&s!=="0x"&&(l.gas=j(s)),q(c)&&c!=="0x"&&(l.data=c),q(n)&&(l.nonce=n==="0x"?0:V(n)),q(o)&&o!=="0x"&&(l.value=j(o)),q(r)&&r!=="0x"&&(l.gasPrice=j(r)),ki(l),t.length===6)return l;const d=q(i)&&i!=="0x"?j(i):0n;if(f==="0x"&&u==="0x")return d>0&&(l.chainId=Number(d)),l;const p=d,h=Number((p-35n)/2n);if(h>0)l.chainId=h;else if(p!==27n&&p!==28n)throw new So({v:p});return l.v=p,l.s=f,l.r=u,l.yParity=p%2n===0n?1:0,l}function Un(e){return Ni(`0x${e.slice(4)}`,"hex")}function jn(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!be(r,{strict:!1}))throw new xe({address:r});t.push({address:r,storageKeys:s.map(a=>vd(a)?a:We(a))})}return t}function Ap(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,a,o,c,i]=e[n];t.push({address:s,chainId:r==="0x"?0:V(r),nonce:a==="0x"?0:V(a),...Dt([o,c,i])})}return t}function Dt(e){const t=e.slice(-3),n=t[0]==="0x"||j(t[0])===0n?27n:28n;return{r:Ys(t[1],{size:32}),s:Ys(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class Sp extends N{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function gc(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Sp({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,o,c]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],i=Math.round(+`${o}.${c}`);i>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${i}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function qm(e,t="wei"){return gc(e,Io[t])}function Um(e,t="wei"){return gc(e,To[t])}function Bp(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function $p(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?V(e.nonce):void 0,storageProof:e.storageProof?Bp(e.storageProof):void 0}}async function kp(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?T(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,o||a]});return $p(c)}async function Cp(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?T(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Gs(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a,sender:o,nonce:c}){const i=r||"latest",u=n!==void 0?T(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,T(a)]},{dedupe:!0}):typeof a=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||i,T(a)]},{dedupe:!!u}):o&&typeof c=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,T(c)]},{dedupe:!0})),!f)throw new Bo({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||tu)(f,"getTransaction")}async function Rp(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,Lt,"getBlockNumber")({}),t?M(e,Gs,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}async function rn(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new $o({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||lo)(n,"getTransactionReceipt")}async function Np(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:o,blockTag:c,stateOverride:i}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},d=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return bt({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let h=0,m=0;for(let v=0;v<u.length;v++){const{abi:w,address:b,args:x,functionName:E}=u[v];try{const P=ue({abi:w,args:x,functionName:E});m+=(P.length-2)/2,f>0&&m>f&&p[h].length>0&&(h++,m=(P.length-2)/2,p[h]=[]),p[h]=[...p[h],{allowFailure:!0,callData:P,target:b}]}catch(P){const I=Ze(P,{abi:w,address:b,args:x,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!s)throw I;p[h]=[...p[h],{allowFailure:!0,callData:"0x",target:b}]}}const g=await Promise.allSettled(p.map(v=>M(e,pe,"readContract")({...d===null?{code:Ps}:{address:d},abi:hn,account:n,args:[v],authorizationList:r,blockNumber:a,blockOverrides:o,blockTag:c,functionName:"aggregate3",stateOverride:i}))),y=[];for(let v=0;v<g.length;v++){const w=g[v];if(w.status==="rejected"){if(!s)throw w.reason;for(let x=0;x<p[v].length;x++)y.push({status:"failure",error:w.reason,result:void 0});continue}const b=w.value;for(let x=0;x<b.length;x++){const{returnData:E,success:P}=b[x],{callData:I}=p[v][x],{abi:R,address:B,functionName:$,args:k}=u[y.length];try{if(I==="0x")throw new es;if(!P)throw new In({data:E});const z=et({abi:R,args:k,data:E,functionName:$});y.push(s?{result:z,status:"success"}:z)}catch(z){const U=Ze(z,{abi:R,address:B,args:k,docsPath:"/docs/contract/multicall",functionName:$});if(!s)throw U;y.push({error:U,result:void 0,status:"failure"})}}}if(y.length!==u.length)throw new N("multicall results mismatch");return y}async function Yr(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:c}=t;try{const i=[];for(const d of s){const p=d.blockOverrides?ri(d.blockOverrides):void 0,h=d.calls.map(g=>{const y=g,v=y.account?W(y.account):void 0,w=y.abi?ue(y):y.data,b={...y,account:v,data:y.dataSuffix?Ve([w||"0x",y.dataSuffix]):w,from:y.from??v?.address};return Fe(b),_e(b)}),m=d.stateOverrides?os(d.stateOverrides):void 0;i.push({blockOverrides:p,calls:h,stateOverrides:m})}const f=(typeof n=="bigint"?T(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:i,returnFullTransactions:a,traceTransfers:o,validation:c},f]})).map((d,p)=>({...ro(d),calls:d.calls.map((h,m)=>{const{abi:g,args:y,functionName:v,to:w}=s[p].calls[m],b=h.error?.data??h.returnData,x=BigInt(h.gasUsed),E=h.logs?.map(B=>Re(B)),P=h.status==="0x1"?"success":"failure",I=g&&P==="success"&&b!=="0x"?et({abi:g,data:b,functionName:v}):null,R=(()=>{if(P==="success")return;let B;if(h.error?.data==="0x"?B=new es:h.error&&(B=new In(h.error)),!!B)return Ze(B,{abi:g??[],address:w??"0x",args:y,functionName:v??"<unknown>"})})();return{data:b,gasUsed:x,logs:E,status:P,...P==="success"?{result:I}:{error:R}}})}))}catch(i){const u=i,f=An(u,{});throw f instanceof Nt?u:f}}function Jr(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const c=e[o];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){a=!0;break}continue}if(c===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!a)throw new L("Unable to normalize signature.");return s}function Xr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Dr(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Xr(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Xr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function wc(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return wc(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Dr(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Dr(n[r],{strict:!1}):!1)return o}}function xc(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?ha(e):e;return{...r,...n?{hash:ot(r)}:{}}}function Dn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=ei(t,{strict:!1}),o=e.filter(u=>a?u.type==="function"||u.type==="error"?vc(u)===K(t,0,4):u.type==="event"?ot(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new gn({name:t});if(o.length===1)return{...o[0],...s?{hash:ot(o[0])}:{}};let c;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:ot(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,d)=>{const p="inputs"in u&&u.inputs[d];return p?Xr(l,p):!1})){if(c&&"inputs"in c&&c.inputs){const l=wc(u.inputs,c.inputs,r);if(l)throw new _p({abiItem:u,type:l[0]},{abiItem:c,type:l[1]})}c=u}}const i=(()=>{if(c)return c;const[u,...f]=o;return{...u,overloads:f}})();if(!i)throw new gn({name:t});return{...i,...s?{hash:ot(i)}:{}}}function vc(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dn(n,r)}return e[0]})();return K(ot(t),0,4)}function Mp(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Dn(r,s)}return e[0]})(),n=typeof t=="string"?t:yr(t);return Jr(n)}function ot(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Ln(Es(Mp(t)))}class _p extends L{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Jr(yr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Jr(yr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class gn extends L{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function zp(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[a,o]=e;return[Op(a),o]}return e})(),{bytecode:r,args:s}=n;return oe(r,t.inputs?.length&&s?.length?qn(t.inputs,s):"0x")}function Fp(e){return xc(e)}function Op(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new gn({name:"constructor"});return t}function Lp(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,l]=e;return[Ja(u,f,{args:l}),l]}const[c,i]=e;return[c,i]})(),{overloads:r}=t,s=r?Ja([t,...r],t.name,{args:n}):t,a=qp(s),o=n.length>0?qn(s.inputs,n):void 0;return o?oe(a,o):a}function st(e,t={}){return xc(e,t)}function Ja(e,t,n){const r=Dn(e,t,n);if(r.type!=="function")throw new gn({name:t,type:"function"});return r}function qp(e){return vc(e)}const Up="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ge="0x0000000000000000000000000000000000000000",jp="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Dp(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:c,validation:i}=t,u=t.account?W(t.account):void 0;if(o&&!u)throw new N("`account` is required when `traceAssetChanges` is true");const f=u?zp(Fp("constructor(bytes, bytes)"),{bytecode:ii,args:[jp,Lp(st("function getBalance(address)"),[u.address])]}):void 0,l=o?await Promise.all(t.calls.map(async C=>{if(!C.data&&!C.abi)return;const{accessList:F}=await Pi(e,{account:u.address,...C,data:C.abi?ue(C):C.data});return F.map(({address:O,storageKeys:D})=>D.length>0?O:null)})).then(C=>C.flat().filter(Boolean)):[],d=await Yr(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:a},{calls:l.map((C,F)=>({abi:[st("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:C,from:ge,nonce:F})),stateOverrides:[{address:ge,nonce:0}]}]:[],{calls:[...s,{}].map(C=>({...C,from:u?.address})),stateOverrides:a},...o?[{calls:[{data:f}]},{calls:l.map((C,F)=>({abi:[st("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:C,from:ge,nonce:F})),stateOverrides:[{address:ge,nonce:0}]},{calls:l.map((C,F)=>({to:C,abi:[st("function decimals() returns (uint256)")],functionName:"decimals",from:ge,nonce:F})),stateOverrides:[{address:ge,nonce:0}]},{calls:l.map((C,F)=>({to:C,abi:[st("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ge,nonce:F})),stateOverrides:[{address:ge,nonce:0}]},{calls:l.map((C,F)=>({to:C,abi:[st("function symbol() returns (string)")],functionName:"symbol",from:ge,nonce:F})),stateOverrides:[{address:ge,nonce:0}]}]:[]],traceTransfers:c,validation:i}),p=o?d[2]:d[0],[h,m,,g,y,v,w,b]=o?d:[],{calls:x,...E}=p,P=x.slice(0,-1)??[],I=h?.calls??[],R=m?.calls??[],B=[...I,...R].map(C=>C.status==="success"?j(C.data):null),$=g?.calls??[],k=y?.calls??[],z=[...$,...k].map(C=>C.status==="success"?j(C.data):null),U=(v?.calls??[]).map(C=>C.status==="success"?C.result:null),S=(b?.calls??[]).map(C=>C.status==="success"?C.result:null),A=(w?.calls??[]).map(C=>C.status==="success"?C.result:null),_=[];for(const[C,F]of z.entries()){const O=B[C];if(typeof F!="bigint"||typeof O!="bigint")continue;const D=U[C-1],G=S[C-1],he=A[C-1],te=C===0?{address:Up,decimals:18,symbol:"ETH"}:{address:l[C-1],decimals:he||D?Number(D??1):void 0,symbol:G??void 0};_.some(Y=>Y.token.address===te.address)||_.push({token:te,value:{pre:O,post:F,diff:F-O}})}return{assetChanges:_,block:E,results:P}}const Ec="0x6492649264926492649264926492649264926492649264926492649264926492";function Gp(e){if(K(e,-32)!==Ec)throw new Wp(e)}function Hp(e){const{data:t,signature:n,to:r}=e;return oe(qn(Hi("address, bytes, bytes"),[r,t,n]),Ec)}function Vp(e){try{return Gp(e),!0}catch{return!1}}class Wp extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Zp({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new gt.Signature(j(e),j(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:le(o)}async function Gn(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:a=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(()=>{const c=t.signature;return q(c)?c:typeof c=="object"&&"r"in c&&"s"in c?Zp(c):ae(c)})();try{return yc(o)?await Kp(e,{...t,multicallAddress:a,signature:o}):await Yp(e,{...t,verifierAddress:s,signature:o})}catch(c){try{if(ze(ve(n),await mt({hash:r,signature:o})))return!0}catch{}if(c instanceof Xe)return!1;throw c}}async function Kp(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:o}=t,{authorization:c,data:i,signature:u,to:f}=bc(t.signature);if(await Ur(e,{address:n,blockNumber:r,blockTag:s})===me(["0xef0100",c.address]))return await Jp(e,{address:n,blockNumber:r,blockTag:s,hash:a,signature:u});const d={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:T(c.r,{size:32}),s:T(c.s,{size:32}),yParity:c.yParity};if(!await fd({address:n,authorization:d}))throw new Xe;const h=await M(e,pe,"readContract")({...o?{address:o}:{code:Ps},authorizationList:[d],abi:hn,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:f??n,callData:i}]:[],{allowFailure:!0,target:n,callData:ue({abi:oi,functionName:"isValidSignature",args:[a,u]})}]]});if(h[h.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Xe}async function Yp(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,verifierAddress:c,...i}=t,u=await(async()=>!r&&!s||Vp(o)?o:Hp({data:s,signature:o,to:r}))(),f=c?{to:c,data:ue({abi:Na,functionName:"isValidSig",args:[n,a,u]}),...i}:{data:Nn({abi:Na,args:[n,a,u],bytecode:uf}),...i},{data:l}=await M(e,Ot,"call")(f).catch(d=>{throw d instanceof Co?new Xe:d});if(nu(l??"0x0"))return!0;throw new Xe}async function Jp(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:o}=t;if((await M(e,pe,"readContract")({address:n,abi:oi,args:[a,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(i=>{throw i instanceof Ro?new Xe:i})).startsWith("0x1626ba7e"))return!0;throw new Xe}class Xe extends Error{}async function Xp(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){const c=Ms(n);return Gn(e,{address:t,factory:r,factoryData:s,hash:c,signature:a,...o})}async function Qp(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:c,types:i,domain:u,...f}=t,l=fo({message:o,primaryType:c,types:i,domain:u});return Gn(e,{address:n,factory:r,factoryData:s,hash:l,signature:a,...f})}function Pc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const c=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let i;return c?(()=>{const l=J(["watchBlockNumber",e.uid,t,n,o]);return $e(l,{onBlockNumber:r,onError:s},d=>yt(async()=>{try{const p=await M(e,Lt,"getBlockNumber")({cacheTime:0});if(i!==void 0){if(p===i)return;if(p-i>1&&n)for(let h=i+1n;h<p;h++)d.onBlockNumber(h,i),i=h}(i===void 0||p>i)&&(d.onBlockNumber(p,i),i=p)}catch(p){d.onError?.(p)}},{emitOnBegin:t,interval:o}))})():(()=>{const l=J(["watchBlockNumber",e.uid,t,n]);return $e(l,{onBlockNumber:r,onError:s},d=>{let p=!0,h=()=>p=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:g}=await m.subscribe({params:["newHeads"],onData(y){if(!p)return;const v=j(y.result?.number);d.onBlockNumber(v,i),i=v},onError(y){d.onError?.(y)}});h=g,p||h()}catch(m){s?.(m)}})(),()=>h()})})()}async function Ic(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:c=({count:x})=>~~(1<<x)*200,timeout:i=18e4}=t,u=J(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let l,d,p,h=!1,m,g;const{promise:y,resolve:v,reject:w}=Is(),b=i?setTimeout(()=>{g?.(),m?.(),w(new c0({hash:s}))},i):void 0;return m=$e(u,{onReplaced:a,resolve:v,reject:w},async x=>{if(p=await M(e,rn,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1){clearTimeout(b),x.resolve(p),m?.();return}g=M(e,Pc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const P=R=>{clearTimeout(b),g?.(),R(),m?.()};let I=E;if(!h)try{if(p){if(r>1&&(!p.blockNumber||I-p.blockNumber+1n<r))return;P(()=>x.resolve(p));return}if(n&&!l&&(h=!0,await yn(async()=>{l=await M(e,Gs,"getTransaction")({hash:s}),l.blockNumber&&(I=l.blockNumber)},{delay:c,retryCount:o}),h=!1),p=await M(e,rn,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||I-p.blockNumber+1n<r))return;P(()=>x.resolve(p))}catch(R){if(R instanceof Bo||R instanceof $o){if(!l){h=!1;return}try{d=l,h=!0;const B=await yn(()=>M(e,we,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:c,retryCount:o,shouldRetry:({error:z})=>z instanceof No});h=!1;const $=B.transactions.find(({from:z,nonce:U})=>z===d.from&&U===d.nonce);if(!$||(p=await M(e,rn,"getTransactionReceipt")({hash:$.hash}),r>1&&(!p.blockNumber||I-p.blockNumber+1n<r)))return;let k="replaced";$.to===d.to&&$.value===d.value&&$.input===d.input?k="repriced":$.from===$.to&&$.value===0n&&(k="cancelled"),P(()=>{x.onReplaced?.({reason:k,replacedTransaction:d,transaction:$,transactionReceipt:p}),x.resolve(p)})}catch(B){P(()=>x.reject(B))}}else P(()=>x.reject(R))}}})}),y}function e1(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:c,pollingInterval:i=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let l;return u?(()=>{const h=J(["watchBlocks",e.uid,t,n,r,f,i]);return $e(h,{onBlock:s,onError:a},m=>yt(async()=>{try{const g=await M(e,we,"getBlock")({blockTag:t,includeTransactions:f});if(g.number!==null&&l?.number!=null){if(g.number===l.number)return;if(g.number-l.number>1&&n)for(let y=l?.number+1n;y<g.number;y++){const v=await M(e,we,"getBlock")({blockNumber:y,includeTransactions:f});m.onBlock(v,l),l=v}}(l?.number==null||t==="pending"&&g?.number==null||g.number!==null&&g.number>l.number)&&(m.onBlock(g,l),l=g)}catch(g){m.onError?.(g)}},{emitOnBegin:r,interval:i}))})():(()=>{let h=!0,m=!0,g=()=>h=!1;return(async()=>{try{r&&M(e,we,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{h&&m&&(s(w,void 0),m=!1)}).catch(a);const y=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],async onData(w){if(!h)return;const b=await M(e,we,"getBlock")({blockNumber:w.result?.number,includeTransactions:f}).catch(()=>{});h&&(s(b,l),m=!1,l=b)},onError(w){a?.(w)}});g=v,h||g()}catch(y){a?.(y)}})(),()=>g()})()}function t1(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:c,onLogs:i,poll:u,pollingInterval:f=e.pollingInterval,strict:l}){const d=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=l??!1;return d?(()=>{const g=J(["watchEvent",t,n,r,e.uid,s,f,o]);return $e(g,{onLogs:i,onError:c},y=>{let v;o!==void 0&&(v=o-1n);let w,b=!1;const x=yt(async()=>{if(!b){try{w=await M(e,Ii,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:o})}catch{}b=!0;return}try{let E;if(w)E=await M(e,Mn,"getFilterChanges")({filter:w});else{const P=await M(e,Lt,"getBlockNumber")({});v&&v!==P?E=await M(e,hs,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:v+1n,toBlock:P}):E=[],v=P}if(E.length===0)return;if(r)y.onLogs(E);else for(const P of E)y.onLogs([P])}catch(E){w&&E instanceof fn&&(b=!1),y.onError?.(E)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await M(e,_n,"uninstallFilter")({filter:w}),x()}})})():(()=>{let g=!0,y=()=>g=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),w=a??(s?[s]:void 0);let b=[];w&&(b=[w.flatMap(P=>St({abi:[P],eventName:P.name,args:n}))],s&&(b=b[0]));const{unsubscribe:x}=await v.subscribe({params:["logs",{address:t,topics:b}],onData(E){if(!g)return;const P=E.result;try{const{eventName:I,args:R}=oo({abi:w??[],data:P.data,topics:P.topics,strict:p}),B=Re(P,{args:R,eventName:I});i([B])}catch(I){let R,B;if(I instanceof io||I instanceof co){if(l)return;R=I.abiItem.name,B=I.abiItem.inputs?.some(k=>!("name"in k&&k.name))}const $=Re(P,{args:B?[]:{},eventName:R});i([$])}},onError(E){c?.(E)}});y=x,g||y()}catch(v){c?.(v)}})(),()=>y()})()}function n1(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=J(["watchPendingTransactions",e.uid,t,a]);return $e(u,{onTransactions:r,onError:n},f=>{let l;const d=yt(async()=>{try{if(!l)try{l=await M(e,Ti,"createPendingTransactionFilter")({});return}catch(h){throw d(),h}const p=await M(e,Mn,"getFilterChanges")({filter:l});if(p.length===0)return;if(t)f.onTransactions(p);else for(const h of p)f.onTransactions([h])}catch(p){f.onError?.(p)}},{emitOnBegin:!0,interval:a});return async()=>{l&&await M(e,_n,"uninstallFilter")({filter:l}),d()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const p=d.result;r([p])},onError(d){n?.(d)}});f=l,u||f()}catch(l){n?.(l)}})(),()=>f()})()}function r1(e){const{scheme:t,statement:n,...r}=e.match(s1)?.groups??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:c,requestId:i,...u}=e.match(a1)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...i?{requestId:i}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const s1=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,a1=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function o1(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!be(r.address,{strict:!1})||t&&!ze(r.address,t))return!1}catch{return!1}return!0}async function i1(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:c,time:i=new Date,...u}=t,f=r1(s);if(!f.address||!o1({address:n,domain:r,message:f,nonce:a,scheme:o,time:i}))return!1;const d=Ms(s);return Gn(e,{address:f.address,hash:d,signature:c,...u})}async function Hs(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,T(r)]:[t]},{retryCount:0}),o=(e.chain?.formatters?.transactionReceipt?.format||lo)(s);if(o.status==="reverted"&&n)throw new ko({receipt:o});return o}function c1(e){return{call:t=>Ot(e,t),createAccessList:t=>Pi(e,t),createBlockFilter:()=>Hf(e),createContractEventFilter:t=>ss(e,t),createEventFilter:t=>Ii(e,t),createPendingTransactionFilter:()=>Ti(e),estimateContractGas:t=>jo(e,t),estimateGas:t=>ms(e,t),getBalance:t=>Vf(e,t),getBlobBaseFee:()=>Wf(e),getBlock:t=>we(e,t),getBlockNumber:t=>Lt(e,t),getBlockTransactionCount:t=>Zf(e,t),getBytecode:t=>Ur(e,t),getChainId:()=>Qe(e),getCode:t=>Ur(e,t),getContractEvents:t=>bs(e,t),getEip712Domain:t=>Yf(e,t),getEnsAddress:t=>Bf(e,t),getEnsAvatar:t=>jf(e,t),getEnsName:t=>Df(e,t),getEnsResolver:t=>Gf(e,t),getEnsText:t=>Ei(e,t),getFeeHistory:t=>Qf(e,t),estimateFeesPerGas:t=>v0(e,t),getFilterChanges:t=>Mn(e,t),getFilterLogs:t=>ed(e,t),getGasPrice:()=>cs(e),getLogs:t=>hs(e,t),getProof:t=>kp(e,t),estimateMaxPriorityFeePerGas:t=>x0(e,t),getStorageAt:t=>Cp(e,t),getTransaction:t=>Gs(e,t),getTransactionConfirmations:t=>Rp(e,t),getTransactionCount:t=>Sn(e,t),getTransactionReceipt:t=>rn(e,t),multicall:t=>Np(e,t),prepareTransactionRequest:t=>Mt(e,t),readContract:t=>pe(e,t),sendRawTransaction:t=>Bs(e,t),sendRawTransactionSync:t=>Hs(e,t),simulate:t=>Yr(e,t),simulateBlocks:t=>Yr(e,t),simulateCalls:t=>Dp(e,t),simulateContract:t=>di(e,t),verifyHash:t=>Gn(e,t),verifyMessage:t=>Xp(e,t),verifySiweMessage:t=>i1(e,t),verifyTypedData:t=>Qp(e,t),uninstallFilter:t=>_n(e,t),waitForTransactionReceipt:t=>Ic(e,t),watchBlocks:t=>e1(e,t),watchBlockNumber:t=>Pc(e,t),watchContractEvent:t=>li(e,t),watchEvent:t=>t1(e,t),watchPendingTransactions:t=>n1(e,t)}}function jm(e){const{key:t="public",name:n="Public Client"}=e;return $s({...e,key:t,name:n,type:"publicClient"}).extend(c1)}async function u1(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function f1(e){return e.request({method:`${e.mode}_dumpState`})}async function d1(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function l1(e){return await e.request({method:"txpool_content"})}async function p1(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:V(t),queued:V(n)}}async function m1(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function h1(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[T(t)]})}async function b1(e){return await e.request({method:"txpool_inspect"})}async function y1(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function g1(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:T(t)}]}):await e.request({method:`${e.mode}_mine`,params:[T(t),T(n||0)]})}async function w1(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function x1(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function v1(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function E1(e,t){const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:l,...d}=t,p=e.chain?.formatters?.transactionRequest?.format,m=(p||_e)({...ht(d,{format:p}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:l},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[m]})}async function P1(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function I1(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,T(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,T(n)]})}async function T1(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[T(t)]})}async function A1(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function S1(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function B1(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function $1(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function k1(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function C1(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[T(t)]})}async function R1(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[T(t)]})}async function N1(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[T(t)]})}async function M1(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,T(n)]})}async function _1(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function z1(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?T(n):n,r]})}async function F1(e){return await e.request({method:"evm_snapshot"})}async function O1(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function L1({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>u1(n,r),dumpState:()=>f1(n),getAutomine:()=>d1(n),getTxpoolContent:()=>l1(n),getTxpoolStatus:()=>p1(n),impersonateAccount:r=>m1(n,r),increaseTime:r=>h1(n,r),inspectTxpool:()=>b1(n),loadState:r=>y1(n,r),mine:r=>g1(n,r),removeBlockTimestampInterval:()=>w1(n),reset:r=>x1(n,r),revert:r=>v1(n,r),sendUnsignedTransaction:r=>E1(n,r),setAutomine:r=>P1(n,r),setBalance:r=>I1(n,r),setBlockGasLimit:r=>T1(n,r),setBlockTimestampInterval:r=>A1(n,r),setCode:r=>S1(n,r),setCoinbase:r=>B1(n,r),setIntervalMining:r=>$1(n,r),setLoggingEnabled:r=>k1(n,r),setMinGasPrice:r=>C1(n,r),setNextBlockBaseFeePerGas:r=>R1(n,r),setNextBlockTimestamp:r=>N1(n,r),setNonce:r=>M1(n,r),setRpcUrl:r=>_1(n,r),setStorageAt:r=>z1(n,r),snapshot:()=>F1(n),stopImpersonatingAccount:r=>O1(n,r)}}}function Dm(e){const{key:t="test",name:n="Test Client",mode:r}=e;return $s({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:r,...L1({mode:r})(a)}))}async function q1(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:T(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function U1(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=Nn({abi:n,args:r,bytecode:s});return zn(e,{...a,...a.authorizationList?{to:null}:{},data:o})}async function j1(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>no(n))}async function D1(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?W(n):void 0,a=r?[s?.address,[T(r)]]:[s?.address],o=await e.request({method:"wallet_getCapabilities",params:a}),c={};for(const[i,u]of Object.entries(o)){c[Number(i)]={};for(let[f,l]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),c[Number(i)][f]=l}return typeof r=="number"?c[r]:c}async function G1(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Tc(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Oe({docsPath:"/docs/eip7702/prepareAuthorization"});const a=W(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:W(t.executor)})(),c={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof c.chainId>"u"&&(c.chainId=e.chain?.id??await M(e,Qe,"getChainId")({})),typeof c.nonce>"u"&&(c.nonce=await M(e,Sn,"getTransactionCount")({address:a.address,blockTag:"pending"}),(o==="self"||o?.address&&ze(o.address,a.address))&&(c.nonce+=1)),c}async function H1(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>ve(n))}async function V1(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function W1(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max((n?.blockTime??0)*3,5e3),s=await hi(e,t);return await yi(e,{...t,id:s.id,timeout:r})}const mr=new xn(128);async function Ac(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,pollingInterval:h,throwOnReceiptRevert:m,type:g,value:y,...v}=t,w=t.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new Oe({docsPath:"/docs/actions/wallet/sendTransactionSync"});const b=n?W(n):null;try{Fe(t);const x=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Tn({authorization:a[0]}).catch(()=>{throw new N("`to` is required. Could not infer from `authorizationList`.")})})();if(b?.type==="json-rpc"||b===null){let E;r!==null&&(E=await M(e,Qe,"getChainId")({}),As({currentChainId:E,chain:r}));const P=e.chain?.formatters?.transactionRequest?.format,R=(P||_e)({...ht(v,{format:P}),accessList:s,account:b,authorizationList:a,blobs:o,chainId:E,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,to:x,type:g,value:y},"sendTransaction"),B=mr.get(e.uid),$=B?"wallet_sendTransaction":"eth_sendTransaction",k=await(async()=>{try{return await e.request({method:$,params:[R]},{retryCount:0})}catch(U){if(B===!1)throw U;const S=U;if(S.name==="InvalidInputRpcError"||S.name==="InvalidParamsRpcError"||S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[R]},{retryCount:0}).then(A=>(mr.set(e.uid,!0),A)).catch(A=>{const _=A;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(mr.set(e.uid,!1),S):_});throw S}})(),z=await M(e,Ic,"waitForTransactionReceipt")({checkReplacement:!1,hash:k,pollingInterval:h,timeout:w});if(m&&z.status==="reverted")throw new ko({receipt:z});return z}if(b?.type==="local"){const E=await M(e,Mt,"prepareTransactionRequest")({account:b,accessList:s,authorizationList:a,blobs:o,chain:r,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,nonceManager:b.nonceManager,parameters:[...ps,"sidecars"],type:g,value:y,...v,to:x}),P=r?.serializers?.transaction,I=await b.signTransaction(E,{serializer:P});return await M(e,Hs,"sendRawTransactionSync")({serializedTransaction:I,throwOnReceiptRevert:m})}throw b?.type==="smart"?new He({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new He({docsPath:"/docs/actions/wallet/sendTransactionSync",type:b?.type})}catch(x){throw x instanceof He?x:Ss(x,{...t,account:b,chain:t.chain||void 0})}}async function Z1(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function K1(e,t){const{account:n=e.account}=t;if(!n)throw new Oe({docsPath:"/docs/eip7702/signAuthorization"});const r=W(n);if(!r.signAuthorization)throw new He({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Tc(e,t);return r.signAuthorization(s)}async function Y1(e,{account:t=e.account,message:n}){if(!t)throw new Oe({docsPath:"/docs/actions/wallet/signMessage"});const r=W(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Et(n):n.raw instanceof Uint8Array?Be(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function J1(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Oe({docsPath:"/docs/actions/wallet/signTransaction"});const a=W(n);Fe({account:a,...t});const o=await M(e,Qe,"getChainId")({});r!==null&&As({currentChainId:o,chain:r});const i=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||_e;return a.signTransaction?a.signTransaction({...s,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...i({...s,account:a},"signTransaction"),chainId:T(o),from:a.address}]},{retryCount:0})}async function X1(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Oe({docsPath:"/docs/actions/wallet/signTypedData"});const o=W(n),c={EIP712Domain:ru({domain:r}),...t.types};if(su({domain:r,message:s,primaryType:a,types:c}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:a,types:c});const i=au({domain:r,message:s,primaryType:a,types:c});return e.request({method:"eth_signTypedData_v4",params:[o.address,i]},{retryCount:0})}async function Q1(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:T(t)}]},{retryCount:0})}async function em(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function tm(e,t){return ft.internal(e,Ac,"sendTransactionSync",t)}function nm(e){return{addChain:t=>q1(e,t),deployContract:t=>U1(e,t),getAddresses:()=>j1(e),getCallsStatus:t=>bi(e,t),getCapabilities:t=>D1(e,t),getChainId:()=>Qe(e),getPermissions:()=>G1(e),prepareAuthorization:t=>Tc(e,t),prepareTransactionRequest:t=>Mt(e,t),requestAddresses:()=>H1(e),requestPermissions:t=>V1(e,t),sendCalls:t=>hi(e,t),sendCallsSync:t=>W1(e,t),sendRawTransaction:t=>Bs(e,t),sendRawTransactionSync:t=>Hs(e,t),sendTransaction:t=>zn(e,t),sendTransactionSync:t=>Ac(e,t),showCallsStatus:t=>Z1(e,t),signAuthorization:t=>K1(e,t),signMessage:t=>Y1(e,t),signTransaction:t=>J1(e,t),signTypedData:t=>X1(e,t),switchChain:t=>Q1(e,t),waitForCallsStatus:t=>yi(e,t),watchAsset:t=>em(e,t),writeContract:t=>ft(e,t),writeContractSync:t=>tm(e,t)}}function Gm(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return $s({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(nm)}function Hn({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:o,type:c},i){const u=gi();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:o,type:c},request:ld(r,{methods:t,retryCount:s,retryDelay:a,uid:u}),value:i}}function Hm(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>Hn({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}function Vm(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=rm,retryCount:o,retryDelay:c}=t;return({chain:i,pollingInterval:u=4e3,timeout:f,...l})=>{let d=e,p=()=>{};const h=Hn({key:n,name:r,async request({method:m,params:g}){let y;const v=async(w=0)=>{const b=d[w]({...l,chain:i,retryCount:0,timeout:f});try{const x=await b.request({method:m,params:g});return p({method:m,params:g,response:x,transport:b,status:"success"}),x}catch(x){if(p({error:x,method:m,params:g,transport:b,status:"error"}),a(x)||w===d.length-1||(y??(y=d.slice(w+1).some(E=>{const{include:P,exclude:I}=E({chain:i}).config.methods||{};return P?P.includes(m):I?!I.includes(m):!0})),!y))throw x;return v(w+1)}};return v()},retryCount:o,retryDelay:c,type:"fallback"},{onResponse:m=>p=m,transports:d.map(m=>m({chain:i,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};sm({chain:i,interval:m.interval??u,onTransports:g=>d=g,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:d,weights:m.weights})}return h}}function rm(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===vr.code||e.code===tn.code||Ue.nodeMessage.test(e.message)||e.code===5e3))}function sm({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:o,weights:c={}}){const{stability:i=.7,latency:u=.3}=c,f=[],l=async()=>{const d=await Promise.all(o.map(async m=>{const g=m({chain:e,retryCount:0,timeout:a}),y=Date.now();let v,w;try{await(r?r({transport:g}):g.request({method:"net_listening"})),w=1}catch{w=0}finally{v=Date.now()}return{latency:v-y,success:w}}));f.push(d),f.length>s&&f.shift();const p=Math.max(...f.map(m=>Math.max(...m.map(({latency:g})=>g)))),h=o.map((m,g)=>{const y=f.map(E=>E[g].latency),w=1-y.reduce((E,P)=>E+P,0)/y.length/p,b=f.map(E=>E[g].success),x=b.reduce((E,P)=>E+P,0)/b.length;return x===0?[0,g]:[u*w+i*x,g]}).sort((m,g)=>g[0]-m[0]);n(h.map(([,m])=>o[m])),await bn(t),l()};l()}class Sc extends N{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Wm(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:a="http",methods:o,name:c="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:u,retryDelay:f,raw:l}=t;return({chain:d,retryCount:p,timeout:h})=>{const{batchSize:m=1e3,wait:g=0}=typeof n=="object"?n:{},y=t.retryCount??p,v=h??t.timeout??1e4,w=e||d?.rpcUrls.default.http[0];if(!w)throw new Sc;const b=Md(w,{fetchFn:r,fetchOptions:s,onRequest:i,onResponse:u,timeout:v});return Hn({key:a,methods:o,name:c,async request({method:x,params:E}){const P={method:x,params:E},{schedule:I}=Ts({id:w,wait:g,shouldSplitBatch(k){return k.length>m},fn:k=>b.request({body:k}),sort:(k,z)=>k.id-z.id}),R=async k=>n?I(k):[await b.request({body:k})],[{error:B,result:$}]=await R(P);if(l)return{error:B,result:$};if(B)throw new rs({body:P,error:B,url:w});return $},retryCount:y,retryDelay:f,timeout:v,type:"http"},{fetchOptions:s,url:w})}}function Zm(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:a="WebSocket JSON-RPC",reconnect:o,retryDelay:c}=t;return({chain:i,retryCount:u,timeout:f})=>{const l=t.retryCount??u,d=f??t.timeout??1e4,p=e||i?.rpcUrls.default.webSocket?.[0],h={keepAlive:n,reconnect:o};if(!p)throw new Sc;return Hn({key:r,methods:s,name:a,async request({method:m,params:g}){const y={method:m,params:g},v=await nn(p,h),{error:w,result:b}=await v.requestAsync({body:y,timeout:d});if(w)throw new rs({body:y,error:w,url:p});return b},retryCount:l,retryDelay:c,timeout:d,type:"webSocket"},{getSocket(){return zd(p)},getRpcClient(){return nn(p,h)},async subscribe({params:m,onData:g,onError:y}){const v=await nn(p,h),{result:w}=await new Promise((b,x)=>v.request({body:{method:"eth_subscribe",params:m},onError(E){x(E),y?.(E)},onResponse(E){if(E.error){x(E.error),y?.(E.error);return}if(typeof E.id=="number"){b(E);return}E.method==="eth_subscription"&&g(E.params)}}));return{subscriptionId:w,async unsubscribe(){return new Promise(b=>v.request({body:{method:"eth_unsubscribe",params:[w]},onResponse:b}))}}}})}}class Km extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const hr="/docs/contract/decodeDeployData";function Ym(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new ao({docsPath:hr});if(!("inputs"in s))throw new an({docsPath:hr});if(!s.inputs||s.inputs.length===0)throw new an({docsPath:hr});return{args:wn(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function Jm(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(c=>le(c)):e.blobs,r=n.reduce((c,i)=>c+i.length,0),s=sn(new Uint8Array(r));let a=!0;for(const c of n){const i=sn(c);for(;a&&i.position<c.length;){i.incrementPosition(1);let u=31;c.length-i.position<31&&(u=c.length-i.position);for(const f in Array.from({length:u})){const l=i.readByte();if(l===128&&!i.inspectBytes(i.remaining).includes(128)){a=!1;break}s.pushByte(l)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?ae(o):o}function Xm(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:a}of t)s.push(_o({commitment:a,to:r,version:n}));return s}const am=2147483648;function Qm(e){if(e===1)return 60n;if(e>=am||e<0)throw new Cf({chainId:e});return BigInt((2147483648|e)>>>0)}function om({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function eh(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return om(e)}function th({r:e,yParityAndS:t}){const n=le(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:ae(s),yParity:r}}function nh(e){const{r:t,s:n}=gt.Signature.fromCompact(e.slice(2,130));return{r:T(t,{size:32}),yParityAndS:T(n,{size:32})}}function rh(e){const{r:t,s:n}=gt.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:T(t,{size:32}),s:T(n,{size:32}),v:s,yParity:a}:{r:T(t,{size:32}),s:T(n,{size:32}),yParity:a}}async function sh(e){const{serializedTransaction:t,signature:n}=e,r=xp(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},a=rd({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await mt({hash:Se(a),signature:s})}function ah({r:e,yParityAndS:t}){return`0x${new gt.Signature(j(e),j(t)).toCompactHex()}`}function oh(e){const{r:t,s:n,v:r,yParity:s}=e,a=Number(s??r-27n);let o=n;if(a===1){const c=le(n);c[0]|=128,o=ae(c)}return{r:t,yParityAndS:o}}export{ao as AbiConstructorNotFoundError,an as AbiConstructorParamsNotFoundError,uh as AbiDecodingDataSizeInvalidError,fh as AbiDecodingDataSizeTooSmallError,es as AbiDecodingZeroDataError,dh as AbiEncodingArrayLengthMismatchError,lh as AbiEncodingBytesSizeMismatchError,Fc as AbiEncodingLengthMismatchError,Rc as AbiErrorInputsNotFoundError,Zs as AbiErrorNotFoundError,$c as AbiErrorSignatureNotFoundError,ph as AbiEventNotFoundError,mh as AbiEventSignatureEmptyTopicsError,hh as AbiEventSignatureNotFoundError,ut as AbiFunctionNotFoundError,so as AbiFunctionOutputsNotFoundError,Cc as AbiFunctionSignatureNotFoundError,e0 as AccountStateConflictError,Js as AtomicReadyWalletRejectedUpgradeError,wr as AtomicityNotSupportedError,N as BaseError,g0 as BaseFeeScalarError,No as BlockNotFoundError,Ef as BundleFailedError,Xs as BundleTooLargeError,Uc as BytesSizeMismatchError,Co as CallExecutionError,ra as ChainDisconnectedError,Or as ChainDoesNotSupportContract,ff as ChainMismatchError,df as ChainNotFoundError,Ou as CircularReferenceError,ci as ClientChainNotConfiguredError,Ro as ContractFunctionExecutionError,Ar as ContractFunctionRevertedError,u0 as ContractFunctionZeroDataError,f0 as CounterfactualDeploymentFailedError,io as DecodeLogDataMismatch,co as DecodeLogTopicsMismatch,ea as DuplicateIdError,Km as EIP1193ProviderRpcError,is as Eip1559FeesNotSupportedError,vt as EnsAvatarInvalidNftUriError,kf as EnsAvatarUnsupportedNamespaceError,Rs as EnsAvatarUriResolutionError,Cf as EnsInvalidChainIdError,h0 as EstimateGasExecutionError,Ue as ExecutionRevertedError,Ke as FeeCapTooHighError,Sr as FeeCapTooLowError,r0 as FeeConflictError,bh as FilterTypeNotSupportedError,De as HttpRequestError,Cr as InsufficientFundsError,yh as IntegerOutOfRangeError,un as InternalRpcError,Rr as IntrinsicGasTooHighError,Nr as IntrinsicGasTooLowError,gh as InvalidAbiDecodingTypeError,wh as InvalidAbiEncodingTypeError,Au as InvalidAbiItemError,$u as InvalidAbiParameterError,ku as InvalidAbiParametersError,_u as InvalidAbiTypeParameterError,xe as InvalidAddressError,Nc as InvalidArrayError,xh as InvalidBytesBooleanError,Rn as InvalidChainIdError,Sp as InvalidDecimalNumberError,vh as InvalidDefinitionTypeError,Eh as InvalidDomainError,Mu as InvalidFunctionModifierError,Ph as InvalidHexBooleanError,Gc as InvalidHexValueError,fn as InvalidInputRpcError,So as InvalidLegacyVError,Nu as InvalidModifierError,Cu as InvalidParameterError,fa as InvalidParamsRpcError,Lu as InvalidParenthesisError,Ih as InvalidPrimaryTypeError,la as InvalidRequestRpcError,s0 as InvalidSerializableTransactionError,Rt as InvalidSerializedTransactionError,a0 as InvalidSerializedTransactionTypeError,pt as InvalidSignatureError,o0 as InvalidStorageKeySizeError,Fu as InvalidStructSignatureError,Th as InvalidStructTypeError,ia as JsonRpcVersionUnsupportedError,xr as LimitExceededRpcError,w0 as MaxFeePerGasTooLowError,da as MethodNotFoundRpcError,Ht as MethodNotSupportedRpcError,kr as NonceMaxValueError,Br as NonceTooHighError,$r as NonceTooLowError,pa as ParseRpcError,sa as ProviderDisconnectedError,ib as ProviderRpcError,In as RawContractError,ua as ResourceNotFoundRpcError,ca as ResourceUnavailableRpcError,cb as RpcError,rs as RpcRequestError,Ah as SizeExceedsPaddingSizeError,Sh as SizeOverflowError,Bh as SliceOffsetOutOfBoundsError,dn as SocketClosedError,Ru as SolidityProtectedKeywordError,t0 as StateAssignmentConflictError,na as SwitchChainError,Er as TimeoutError,Pt as TipAboveFeeCapError,i0 as TransactionExecutionError,Bo as TransactionNotFoundError,$o as TransactionReceiptNotFoundError,vr as TransactionRejectedRpcError,Mr as TransactionTypeNotSupportedError,oa as UnauthorizedProviderError,Qs as UnknownBundleIdError,Nt as UnknownNodeError,iu as UnknownRpcError,zu as UnknownSignatureError,Su as UnknownTypeError,ta as UnsupportedChainIdError,gr as UnsupportedNonOptionalCapabilityError,Dc as UnsupportedPackedAbiType,aa as UnsupportedProviderMethodError,Sc as UrlRequiredError,tn as UserRejectedRequestError,Pf as WaitForCallsStatusTimeoutError,c0 as WaitForTransactionReceiptTimeoutError,ma as WebSocketRequestError,As as assertCurrentChain,Fe as assertRequest,Fn as assertTransactionEIP1559,$i as assertTransactionEIP2930,ki as assertTransactionLegacy,us as blobsToCommitments,fs as blobsToProofs,$h as boolToBytes,Oc as boolToHex,kh as bytesToBigInt,Ch as bytesToBool,ae as bytesToHex,Rh as bytesToNumber,fb as bytesToRlp,Nh as bytesToString,Ri as ccipFetch,Ri as ccipRequest,no as checksumAddress,_o as commitmentToVersionedHash,zo as commitmentsToVersionedHashes,ah as compactSignatureToHex,th as compactSignatureToSignature,Ve as concat,Mh as concatBytes,me as concatHex,$s as createClient,Cd as createNonceManager,jm as createPublicClient,Dm as createTestClient,Hn as createTransport,Gm as createWalletClient,Hm as custom,wn as decodeAbiParameters,Ym as decodeDeployData,to as decodeErrorResult,oo as decodeEventLog,If as decodeFunctionData,et as decodeFunctionResult,_h as defineBlock,zh as defineChain,om as defineKzg,Fh as defineTransaction,Oh as defineTransactionReceipt,Lh as defineTransactionRequest,ii as deploylessCallViaBytecodeBytecode,cf as deploylessCallViaFactoryBytecode,qh as domainSeparator,lt as encodeAbiParameters,Nn as encodeDeployData,_a as encodeErrorResult,St as encodeEventTopics,ue as encodeFunctionData,Tf as encodeFunctionResult,Tm as encodePacked,xm as erc1155Abi,gm as erc20Abi,wm as erc20Abi_bytes32,Em as erc4626Abi,Na as erc6492SignatureValidatorAbi,uf as erc6492SignatureValidatorByteCode,vm as erc721Abi,Up as ethAddress,Io as etherUnits,Sm as extractChain,Vm as fallback,ro as formatBlock,as as formatEther,se as formatGwei,Re as formatLog,tu as formatTransaction,lo as formatTransactionReceipt,_e as formatTransactionRequest,Ao as formatUnits,Jm as fromBlobs,Uh as fromBytes,jh as fromHex,Ni as fromRlp,dt as getAbiItem,ve as getAddress,bt as getChainContractAddress,Pm as getContract,Am as getContractAddress,Ze as getContractError,nd as getCreate2Address,td as getCreateAddress,Dh as getEventSelector,Gh as getEventSignature,Qr as getFunctionSelector,Hh as getFunctionSignature,wp as getSerializedTransactionType,Uo as getTransactionType,ru as getTypesForEIP712Domain,To as gweiUnits,Vh as hashDomain,Ms as hashMessage,Wh as hashStruct,fo as hashTypedData,j as hexToBigInt,nu as hexToBool,le as hexToBytes,nh as hexToCompactSignature,V as hexToNumber,db as hexToRlp,rh as hexToSignature,Zh as hexToString,Wm as http,be as isAddress,ze as isAddressEqual,Fa as isBytes,Ld as isErc6492Signature,bp as isErc8010Signature,vd as isHash,q as isHex,Se as keccak256,zc as labelhash,lb as maxInt104,pb as maxInt112,mb as maxInt120,hb as maxInt128,bb as maxInt136,yb as maxInt144,gb as maxInt152,wb as maxInt16,xb as maxInt160,vb as maxInt168,Eb as maxInt176,Pb as maxInt184,Ib as maxInt192,Tb as maxInt200,Ab as maxInt208,Sb as maxInt216,Bb as maxInt224,$b as maxInt232,kb as maxInt24,Cb as maxInt240,Rb as maxInt248,Nb as maxInt256,Mb as maxInt32,_b as maxInt40,zb as maxInt48,Fb as maxInt56,Ob as maxInt64,Lb as maxInt72,qb as maxInt8,Ub as maxInt80,jb as maxInt88,Db as maxInt96,Gb as maxUint104,Hb as maxUint112,Vb as maxUint120,Wb as maxUint128,Zb as maxUint136,Kb as maxUint144,Yb as maxUint152,Jb as maxUint16,Xb as maxUint160,Qb as maxUint168,ey as maxUint176,ty as maxUint184,ny as maxUint192,ry as maxUint200,sy as maxUint208,ay as maxUint216,oy as maxUint224,iy as maxUint232,cy as maxUint24,uy as maxUint240,fy as maxUint248,vn as maxUint256,dy as maxUint32,ly as maxUint40,py as maxUint48,my as maxUint56,hy as maxUint64,by as maxUint72,yy as maxUint8,gy as maxUint80,wy as maxUint88,xy as maxUint96,vy as minInt104,Ey as minInt112,Py as minInt120,Iy as minInt128,Ty as minInt136,Ay as minInt144,Sy as minInt152,By as minInt16,$y as minInt160,ky as minInt168,Cy as minInt176,Ry as minInt184,Ny as minInt192,My as minInt200,_y as minInt208,zy as minInt216,Fy as minInt224,Oy as minInt232,Ly as minInt24,qy as minInt240,Uy as minInt248,jy as minInt256,Dy as minInt32,Gy as minInt40,Hy as minInt48,Vy as minInt56,Wy as minInt64,Zy as minInt72,Ky as minInt8,Yy as minInt80,Jy as minInt88,Xy as minInt96,hn as multicall3Abi,qr as namehash,$m as nonceManager,Kh as numberToBytes,T as numberToHex,gd as offchainLookup,Ci as offchainLookupAbiItem,yd as offchainLookupSignature,en as pad,Yh as padBytes,Ys as padHex,Eo as parseAbi,ha as parseAbiItem,mm as parseAbiParameter,ba as parseAbiParameters,nh as parseCompactSignature,Nm as parseErc6492Signature,Mm as parseErc8010Signature,qm as parseEther,ns as parseEventLogs,Um as parseGwei,rh as parseSignature,xp as parseTransaction,gc as parseUnits,Qu as prepareEncodeFunctionData,Fd as presignMessagePrefix,c1 as publicActions,mt as recoverAddress,yp as recoverMessageAddress,p0 as recoverPublicKey,sh as recoverTransactionAddress,gp as recoverTypedDataAddress,Bm as ripemd160,Im as rpcSchema,Jh as rpcTransactionType,On as serializeAccessList,ah as serializeCompactSignature,_m as serializeErc6492Signature,zm as serializeErc8010Signature,Zp as serializeSignature,rd as serializeTransaction,au as serializeTypedData,Xh as setErrorConfig,eh as setupKzg,cu as sha256,rm as shouldThrow,Xm as sidecarsToVersionedHashes,oh as signatureToCompactSignature,Zp as signatureToHex,$t as size,cn as slice,Qh as sliceBytes,on as sliceHex,Qt as stringToBytes,Et as stringToHex,J as stringify,L1 as testActions,ls as toBlobSidecars,T0 as toBlobs,Ce as toBytes,Qm as toCoinType,eb as toEventHash,tb as toEventSelector,nb as toEventSignature,rb as toFunctionHash,Qr as toFunctionSelector,sb as toFunctionSignature,Be as toHex,Od as toPrefixedMessage,Ne as toRlp,ab as transactionType,We as trim,Na as universalSignatureValidatorAbi,uf as universalSignatureValidatorByteCode,su as validateTypedData,Fm as verifyHash,Om as verifyMessage,Lm as verifyTypedData,nm as walletActions,Zm as webSocket,hm as weiUnits,xf as withCache,yn as withRetry,uo as withTimeout,ge as zeroAddress,km as zeroHash};
//# sourceMappingURL=index-DzMFPDUJ.js.map
