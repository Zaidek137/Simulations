{"version":3,"file":"InAppWalletConnectUI-m30ZJaJL.js","sources":["../../node_modules/thirdweb/dist/esm/react/web/wallets/in-app/InAppWalletFormUI.js","../../node_modules/thirdweb/dist/esm/react/web/wallets/in-app/InAppWalletConnectUI.js"],"sourcesContent":["\"use client\";\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { useScreenContext } from \"../../ui/ConnectWallet/Modal/screen.js\";\nimport { TOS } from \"../../ui/ConnectWallet/Modal/TOS.js\";\nimport { PoweredByThirdweb } from \"../../ui/ConnectWallet/PoweredByTW.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Img } from \"../../ui/components/Img.js\";\nimport { ModalTitle } from \"../../ui/components/modalElements.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { ConnectWalletSocialOptions } from \"../shared/ConnectWalletSocialOptions.js\";\n/**\n * @internal\n */\nexport function InAppWalletFormUIScreen(props) {\n    const isCompact = props.size === \"compact\";\n    const { initialScreen, screen } = useScreenContext();\n    // This is only used when requireApproval is true to accept the TOS\n    const [isApproved, setIsApproved] = useState(false);\n    const isInitialScreen = screen === props.wallet && initialScreen === props.wallet;\n    const onBack = isInitialScreen && !props.isLinking ? undefined : props.goBack;\n    return (_jsxs(Container, { animate: \"fadein\", flex: \"column\", fullHeight: true, p: \"lg\", style: {\n            minHeight: \"250px\",\n        }, children: [isCompact &&\n                (isInitialScreen ? (_jsxs(_Fragment, { children: [_jsx(ModalHeader, { leftAligned: !props.isLinking, onBack: onBack, title: _jsxs(_Fragment, { children: [!props.meta?.titleIconUrl ? null : (_jsx(Img, { client: props.client, height: iconSize.md, src: props.meta?.titleIconUrl, width: iconSize.md })), _jsx(ModalTitle, { children: props.meta?.title ??\n                                            props.inAppWalletLocale.emailLoginScreen.title })] }) }), _jsx(Spacer, { y: \"lg\" })] })) : (_jsx(ModalHeader, { onBack: onBack, title: props.inAppWalletLocale.signIn }))), _jsx(Container, { center: \"y\", expand: true, flex: \"column\", p: isCompact ? undefined : \"lg\", children: _jsx(ConnectWalletSocialOptions, { ...props, disabled: props.meta?.requireApproval && !isApproved, locale: props.inAppWalletLocale }) }), isCompact &&\n                (props.meta?.showThirdwebBranding !== false ||\n                    props.meta?.termsOfServiceUrl ||\n                    props.meta?.privacyPolicyUrl) && _jsx(Spacer, { y: \"xl\" }), _jsxs(Container, { flex: \"column\", gap: \"lg\", children: [_jsx(TOS, { isApproved: isApproved, locale: props.connectLocale.agreement, onApprove: () => {\n                            setIsApproved(!isApproved);\n                        }, privacyPolicyUrl: props.meta?.privacyPolicyUrl, requireApproval: props.meta?.requireApproval, termsOfServiceUrl: props.meta?.termsOfServiceUrl }), props.meta?.showThirdwebBranding !== false && _jsx(PoweredByThirdweb, {})] })] }));\n}\n//# sourceMappingURL=InAppWalletFormUI.js.map","\"use client\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useSelectionData, useSetSelectionData, } from \"../../providers/wallet-ui-states-provider.js\";\nimport { useScreenContext } from \"../../ui/ConnectWallet/Modal/screen.js\";\nimport { GuestLogin } from \"../shared/GuestLogin.js\";\nimport { LoadingScreen } from \"../shared/LoadingScreen.js\";\nimport { OTPLoginUI } from \"../shared/OTPLoginUI.js\";\nimport { PassKeyLogin } from \"../shared/PassKeyLogin.js\";\nimport { SocialLogin } from \"../shared/SocialLogin.js\";\nimport { InAppWalletFormUIScreen } from \"./InAppWalletFormUI.js\";\nimport { useInAppWalletLocale } from \"./useInAppWalletLocale.js\";\nimport { WalletAuth } from \"./WalletAuth.js\";\n/**\n *\n * @internal\n */\nfunction InAppWalletConnectUI(props) {\n    const data = useSelectionData();\n    const setSelectionData = useSetSelectionData();\n    const state = data;\n    const localeId = props.connectLocale.id;\n    const locale = useInAppWalletLocale(localeId);\n    const { initialScreen } = useScreenContext();\n    if (!locale) {\n        return _jsx(LoadingScreen, {});\n    }\n    // if the modal starts out with the wallet's connect ui instead of wallet selector - going back to main screen requires staying on the same component and clearing the selection data\n    // otherwise, we go back to the wallet selector by calling props.goBack\n    const goBackToMain = () => {\n        if (initialScreen === props.wallet) {\n            setSelectionData({});\n        }\n        else {\n            props.goBack?.();\n            setSelectionData({});\n        }\n    };\n    const done = () => {\n        props.done();\n        setSelectionData({});\n    };\n    const otpUserInfo = state?.emailLogin\n        ? { email: state.emailLogin }\n        : state?.phoneLogin\n            ? { phone: state.phoneLogin }\n            : undefined;\n    if (otpUserInfo) {\n        return (_jsx(OTPLoginUI, { chain: props.chain, client: props.client, done: done, goBack: goBackToMain, isLinking: props.isLinking, locale: locale, size: props.size, userInfo: otpUserInfo, wallet: props.wallet }));\n    }\n    if (state?.passkeyLogin) {\n        return (_jsx(PassKeyLogin, { chain: props.chain, client: props.client, done: done, isLinking: props.isLinking, locale: props.connectLocale, onBack: goBackToMain, size: props.size, wallet: props.wallet }));\n    }\n    if (state?.walletLogin) {\n        return (_jsx(WalletAuth, { chain: props.chain, client: props.client, done: done, inAppLocale: locale, isLinking: state.walletLogin.linking, locale: props.connectLocale, meta: props.meta, onBack: goBackToMain || (() => setSelectionData({})), size: props.size, wallet: props.wallet, walletConnect: props.walletConnect }));\n    }\n    if (state?.socialLogin) {\n        return (_jsx(SocialLogin, { chain: props.chain, client: props.client, connectLocale: props.connectLocale, done: done, goBack: goBackToMain, isLinking: props.isLinking, locale: locale, size: props.size, socialAuth: state.socialLogin.type, state: state, wallet: props.wallet }));\n    }\n    if (state?.guestLogin) {\n        return (_jsx(GuestLogin, { client: props.client, connectLocale: props.connectLocale, done: done, goBack: goBackToMain, locale: locale, size: props.size, state: state, wallet: props.wallet }));\n    }\n    return (_jsx(InAppWalletFormUIScreen, { chain: props.chain, client: props.client, connectLocale: props.connectLocale, done: done, goBack: props.goBack, inAppWalletLocale: locale, isLinking: props.isLinking, meta: props.meta, select: () => { }, size: props.size, wallet: props.wallet }));\n}\nexport default InAppWalletConnectUI;\n//# sourceMappingURL=InAppWalletConnectUI.js.map"],"names":["InAppWalletFormUIScreen","props","isCompact","initialScreen","screen","useScreenContext","isApproved","setIsApproved","useState","isInitialScreen","onBack","_jsxs","Container","_Fragment","_jsx","ModalHeader","Img","iconSize","ModalTitle","Spacer","ConnectWalletSocialOptions","TOS","PoweredByThirdweb","InAppWalletConnectUI","data","useSelectionData","setSelectionData","useSetSelectionData","state","localeId","locale","useInAppWalletLocale","LoadingScreen","goBackToMain","done","otpUserInfo","OTPLoginUI","PassKeyLogin","WalletAuth","SocialLogin","GuestLogin"],"mappings":"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","x_google_ignoreList":[0,1]}